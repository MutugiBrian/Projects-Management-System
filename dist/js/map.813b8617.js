(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["map"],{3023:function(t,e,n){"use strict";n.r(e);var r=n("6808"),i=window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest,o=""===document.documentElement.style.pointerEvents,a={cors:i,pointerEvents:o},s={attributionWidthOffset:55},u=n("e11e"),l=0;function c(t){var e="";for(var n in t.f=t.f||"json",t)if(t.hasOwnProperty(n)){var r,i=t[n],o=Object.prototype.toString.call(i);e.length&&(e+="&"),r="[object Array]"===o?"[object Object]"===Object.prototype.toString.call(i[0])?JSON.stringify(i):i.join(","):"[object Object]"===o?JSON.stringify(i):"[object Date]"===o?i.valueOf():i,e+=encodeURIComponent(n)+"="+encodeURIComponent(r)}return e}function h(t,e){var n=new window.XMLHttpRequest;return n.onerror=function(r){n.onreadystatechange=u["Util"].falseFn,t.call(e,{error:{code:500,message:"XMLHttpRequest error"}},null)},n.onreadystatechange=function(){var r,i;if(4===n.readyState){try{r=JSON.parse(n.responseText)}catch(o){r=null,i={code:500,message:"Could not parse response as JSON. This could also be caused by a CORS or XMLHttpRequest error."}}!i&&r.error&&(i=r.error,r=null),n.onerror=u["Util"].falseFn,t.call(e,i,r)}},n.ontimeout=function(){this.onerror()},n}function f(t,e,n,r){var i=h(n,r);return i.open("POST",t),"undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.options&&(i.timeout=r.options.timeout),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.send(c(e)),i}function p(t,e,n,r){var i=h(n,r);return i.open("GET",t+"?"+c(e),!0),"undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.options&&(i.timeout=r.options.timeout),i.send(null),i}function d(t,e,n,r){var i=c(e),o=h(n,r),s=(t+"?"+i).length;if(s<=2e3&&a.cors?o.open("GET",t+"?"+i):s>2e3&&a.cors&&(o.open("POST",t),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")),"undefined"!==typeof r&&null!==r&&"undefined"!==typeof r.options&&(o.timeout=r.options.timeout),s<=2e3&&a.cors)o.send(null);else{if(!(s>2e3&&a.cors))return s<=2e3&&!a.cors?m(t,e,n,r):void Z("a request to "+t+" was longer then 2000 characters and this browser cannot make a cross-domain post request. Please use a proxy http://esri.github.io/esri-leaflet/api-reference/request.html");o.send(i)}return o}function m(t,e,n,r){window._EsriLeafletCallbacks=window._EsriLeafletCallbacks||{};var i="c"+l;e.callback="window._EsriLeafletCallbacks."+i,window._EsriLeafletCallbacks[i]=function(t){if(!0!==window._EsriLeafletCallbacks[i]){var e,o=Object.prototype.toString.call(t);"[object Object]"!==o&&"[object Array]"!==o&&(e={error:{code:500,message:"Expected array or object as JSONP response"}},t=null),!e&&t.error&&(e=t,t=null),n.call(r,e,t),window._EsriLeafletCallbacks[i]=!0}};var o=u["DomUtil"].create("script",null,document.body);return o.type="text/javascript",o.src=t+"?"+c(e),o.id=i,o.onerror=function(t){if(t&&!0!==window._EsriLeafletCallbacks[i]){var e={error:{code:500,message:"An unknown error occurred"}};n.call(r,e),window._EsriLeafletCallbacks[i]=!0}},u["DomUtil"].addClass(o,"esri-leaflet-jsonp"),l++,{id:i,url:o.src,abort:function(){window._EsriLeafletCallbacks._callback[i]({code:0,message:"Request aborted."})}}}var g=a.cors?p:m;g.CORS=p,g.JSONP=m;var y={request:d,get:g,post:f},v=y;function b(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function _(t){return b(t[0],t[t.length-1])||t.push(t[0]),t}function w(t){var e,n=0,r=0,i=t.length,o=t[r];for(r;r<i-1;r++)e=t[r+1],n+=(e[0]-o[0])*(e[1]+o[1]),o=e;return n>=0}function x(t,e,n,r){var i=(r[0]-n[0])*(t[1]-n[1])-(r[1]-n[1])*(t[0]-n[0]),o=(e[0]-t[0])*(t[1]-n[1])-(e[1]-t[1])*(t[0]-n[0]),a=(r[1]-n[1])*(e[0]-t[0])-(r[0]-n[0])*(e[1]-t[1]);if(0!==a){var s=i/a,u=o/a;if(s>=0&&s<=1&&u>=0&&u<=1)return!0}return!1}function M(t,e){for(var n=0;n<t.length-1;n++)for(var r=0;r<e.length-1;r++)if(x(t[n],t[n+1],e[r],e[r+1]))return!0;return!1}function O(t,e){for(var n=!1,r=-1,i=t.length,o=i-1;++r<i;o=r)(t[r][1]<=e[1]&&e[1]<t[o][1]||t[o][1]<=e[1]&&e[1]<t[r][1])&&e[0]<(t[o][0]-t[r][0])*(e[1]-t[r][1])/(t[o][1]-t[r][1])+t[r][0]&&(n=!n);return n}function L(t,e){var n=M(t,e),r=O(t,e[0]);return!(n||!r)}function S(t){for(var e,n,r,i=[],o=[],a=0;a<t.length;a++){var s=_(t[a].slice(0));if(!(s.length<4))if(w(s)){var u=[s.slice().reverse()];i.push(u)}else o.push(s.slice().reverse())}var l=[];while(o.length){r=o.pop();var c=!1;for(e=i.length-1;e>=0;e--)if(n=i[e][0],L(n,r)){i[e].push(r),c=!0;break}c||l.push(r)}while(l.length){r=l.pop();var h=!1;for(e=i.length-1;e>=0;e--)if(n=i[e][0],M(n,r)){i[e].push(r),h=!0;break}h||i.push([r.reverse()])}return 1===i.length?{type:"Polygon",coordinates:i[0]}:{type:"MultiPolygon",coordinates:i}}function T(t){var e=[],n=t.slice(0),r=_(n.shift().slice(0));if(r.length>=4){w(r)||r.reverse(),e.push(r);for(var i=0;i<n.length;i++){var o=_(n[i].slice(0));o.length>=4&&(w(o)&&o.reverse(),e.push(o))}}return e}function C(t){for(var e=[],n=0;n<t.length;n++)for(var r=T(t[n]),i=r.length-1;i>=0;i--){var o=r[i].slice(0);e.push(o)}return e}function k(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function A(t,e){for(var n=e?[e,"OBJECTID","FID"]:["OBJECTID","FID"],r=0;r<n.length;r++){var i=n[r];if(i in t&&("string"===typeof t[i]||"number"===typeof t[i]))return t[i]}throw Error("No valid id attribute found")}function j(t,e){var n={};if(t.features){n.type="FeatureCollection",n.features=[];for(var r=0;r<t.features.length;r++)n.features.push(j(t.features[r],e))}if("number"===typeof t.x&&"number"===typeof t.y&&(n.type="Point",n.coordinates=[t.x,t.y],"number"===typeof t.z&&n.coordinates.push(t.z)),t.points&&(n.type="MultiPoint",n.coordinates=t.points.slice(0)),t.paths&&(1===t.paths.length?(n.type="LineString",n.coordinates=t.paths[0].slice(0)):(n.type="MultiLineString",n.coordinates=t.paths.slice(0))),t.rings&&(n=S(t.rings.slice(0))),"number"===typeof t.xmin&&"number"===typeof t.ymin&&"number"===typeof t.xmax&&"number"===typeof t.ymax&&(n.type="Polygon",n.coordinates=[[[t.xmax,t.ymax],[t.xmin,t.ymax],[t.xmin,t.ymin],[t.xmax,t.ymin],[t.xmax,t.ymax]]]),(t.geometry||t.attributes)&&(n.type="Feature",n.geometry=t.geometry?j(t.geometry):null,n.properties=t.attributes?k(t.attributes):null,t.attributes))try{n.id=A(t.attributes,e)}catch(i){}return JSON.stringify(n.geometry)===JSON.stringify({})&&(n.geometry=null),t.spatialReference&&t.spatialReference.wkid&&4326!==t.spatialReference.wkid&&console.warn("Object converted in non-standard crs - "+JSON.stringify(t.spatialReference)),n}function I(t,e){e=e||"OBJECTID";var n,r={wkid:4326},i={};switch(t.type){case"Point":i.x=t.coordinates[0],i.y=t.coordinates[1],i.spatialReference=r;break;case"MultiPoint":i.points=t.coordinates.slice(0),i.spatialReference=r;break;case"LineString":i.paths=[t.coordinates.slice(0)],i.spatialReference=r;break;case"MultiLineString":i.paths=t.coordinates.slice(0),i.spatialReference=r;break;case"Polygon":i.rings=T(t.coordinates.slice(0)),i.spatialReference=r;break;case"MultiPolygon":i.rings=C(t.coordinates.slice(0)),i.spatialReference=r;break;case"Feature":t.geometry&&(i.geometry=I(t.geometry,e)),i.attributes=t.properties?k(t.properties):{},t.id&&(i.attributes[e]=t.id);break;case"FeatureCollection":for(i=[],n=0;n<t.features.length;n++)i.push(I(t.features[n],e));break;case"GeometryCollection":for(i=[],n=0;n<t.geometries.length;n++)i.push(I(t.geometries[n],e));break}return i}function N(t,e){return I(t,e)}function P(t,e){return j(t,e)}function F(t){if("NaN"!==t.xmin&&"NaN"!==t.ymin&&"NaN"!==t.xmax&&"NaN"!==t.ymax){var e=Object(u["latLng"])(t.ymin,t.xmin),n=Object(u["latLng"])(t.ymax,t.xmax);return Object(u["latLngBounds"])(e,n)}return null}function R(t){return t=Object(u["latLngBounds"])(t),{xmin:t.getSouthWest().lng,ymin:t.getSouthWest().lat,xmax:t.getNorthEast().lng,ymax:t.getNorthEast().lat,spatialReference:{wkid:4326}}}var U=/^(OBJECTID|FID|OID|ID)$/i;function D(t){var e;if(t.objectIdFieldName)e=t.objectIdFieldName;else if(t.fields){for(var n=0;n<=t.fields.length-1;n++)if("esriFieldTypeOID"===t.fields[n].type){e=t.fields[n].name;break}if(!e)for(n=0;n<=t.fields.length-1;n++)if(t.fields[n].name.match(U)){e=t.fields[n].name;break}}return e}function E(t){for(var e in t.attributes)if(e.match(U))return e}function B(t,e){var n,r=t.features||t.results,i=r.length;n=e||D(t);var o={type:"FeatureCollection",features:[]};if(i)for(var a=r.length-1;a>=0;a--){var s=P(r[a],n||E(r[a]));o.features.push(s)}return o}function q(t){return t=u["Util"].trim(t),"/"!==t[t.length-1]&&(t+="/"),t}function G(t){if(-1!==t.url.indexOf("?")){t.requestParams=t.requestParams||{};var e=t.url.substring(t.url.indexOf("?")+1);t.url=t.url.split("?")[0],t.requestParams=JSON.parse('{"'+decodeURI(e).replace(/"/g,'\\"').replace(/&/g,'","').replace(/=/g,'":"')+'"}')}return t.url=q(t.url.split("?")[0]),t}function z(t){return/^(?!.*utility\.arcgis\.com).*\.arcgis\.com.*FeatureServer/i.test(t)}function $(t){var e;switch(t){case"Point":e="esriGeometryPoint";break;case"MultiPoint":e="esriGeometryMultipoint";break;case"LineString":e="esriGeometryPolyline";break;case"MultiLineString":e="esriGeometryPolyline";break;case"Polygon":e="esriGeometryPolygon";break;case"MultiPolygon":e="esriGeometryPolygon";break}return e}function Z(){console&&console.warn&&console.warn.apply(console,arguments)}function J(t){return t.getSize().x-s.attributionWidthOffset+"px"}function W(t){if(t.attributionControl&&!t.attributionControl._esriAttributionAdded){t.attributionControl.setPrefix('<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> | Powered by <a href="https://www.esri.com">Esri</a>');var e=document.createElement("style");e.type="text/css",e.innerHTML=".esri-truncated-attribution:hover {white-space: normal;}",document.getElementsByTagName("head")[0].appendChild(e),u["DomUtil"].addClass(t.attributionControl._container,"esri-truncated-attribution:hover");var n=document.createElement("style");n.type="text/css",n.innerHTML=".esri-truncated-attribution {vertical-align: -3px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;display: inline-block;transition: 0s white-space;transition-delay: 1s;max-width: "+J(t)+";}",document.getElementsByTagName("head")[0].appendChild(n),u["DomUtil"].addClass(t.attributionControl._container,"esri-truncated-attribution"),t.on("resize",function(e){t.attributionControl._container.style.maxWidth=J(e.target)}),t.attributionControl._esriAttributionAdded=!0}}function Y(t){var e={geometry:null,geometryType:null};return t instanceof u["LatLngBounds"]?(e.geometry=R(t),e.geometryType="esriGeometryEnvelope",e):(t.getLatLng&&(t=t.getLatLng()),t instanceof u["LatLng"]&&(t={type:"Point",coordinates:[t.lng,t.lat]}),t instanceof u["GeoJSON"]&&(t=t.getLayers()[0].feature.geometry,e.geometry=N(t),e.geometryType=$(t.type)),t.toGeoJSON&&(t=t.toGeoJSON()),"Feature"===t.type&&(t=t.geometry),"Point"===t.type||"LineString"===t.type||"Polygon"===t.type||"MultiPolygon"===t.type?(e.geometry=N(t),e.geometryType=$(t.type),e):void Z("invalid geometry passed to spatial query. Should be L.LatLng, L.LatLngBounds, L.Marker or a GeoJSON Point, Line, Polygon or MultiPolygon object"))}function H(t,e){a.cors&&d(t,{},u["Util"].bind(function(t,n){if(!t){e._esriAttributions=[];for(var r=0;r<n.contributors.length;r++)for(var i=n.contributors[r],o=0;o<i.coverageAreas.length;o++){var a=i.coverageAreas[o],s=Object(u["latLng"])(a.bbox[0],a.bbox[1]),l=Object(u["latLng"])(a.bbox[2],a.bbox[3]);e._esriAttributions.push({attribution:i.attribution,score:a.score,bounds:Object(u["latLngBounds"])(s,l),minZoom:a.zoomMin,maxZoom:a.zoomMax})}e._esriAttributions.sort(function(t,e){return e.score-t.score});var c={target:e};V(c)}},this))}function V(t){var e=t.target,n=e._esriAttributions;if(e&&e.attributionControl){var r=e.attributionControl._container.querySelector(".esri-dynamic-attribution");if(r&&n){for(var i="",o=e.getBounds(),a=Object(u["latLngBounds"])(o.getSouthWest().wrap(),o.getNorthEast().wrap()),s=e.getZoom(),l=0;l<n.length;l++){var c=n[l],h=c.attribution;!i.match(h)&&c.bounds.intersects(a)&&s>=c.minZoom&&s<=c.maxZoom&&(i+=", "+h)}i=i.substr(2),r.innerHTML=i,r.style.maxWidth=J(e),e.fire("attributionupdated",{attribution:i})}}}var X={warn:Z,cleanUrl:q,getUrlParams:G,isArcgisOnline:z,geojsonTypeToArcGIS:$,responseToFeatureCollection:B,geojsonToArcGIS:N,arcgisToGeoJSON:P,boundsToExtent:R,extentToBounds:F,calcAttributionWidth:J,setEsriAttribution:W,_setGeometry:Y,_getAttributionData:H,_updateMapAttribution:V,_findIdAttributeFromFeature:E,_findIdAttributeFromResponse:D},Q=u["Class"].extend({options:{proxy:!1,useCors:i},generateSetter:function(t,e){return u["Util"].bind(function(e){return this.params[t]=e,this},e)},initialize:function(t){if(t.request&&t.options?(this._service=t,u["Util"].setOptions(this,t.options)):(u["Util"].setOptions(this,t),this.options.url=q(t.url)),this.params=u["Util"].extend({},this.params||{}),this.setters)for(var e in this.setters){var n=this.setters[e];this[e]=this.generateSetter(n,this)}},token:function(t){return this._service?this._service.authenticate(t):this.params.token=t,this},format:function(t){return this.params.returnUnformattedValues=!t,this},request:function(t,e){return this.options.requestParams&&u["Util"].extend(this.params,this.options.requestParams),this._service?this._service.request(this.path,this.params,t,e):this._request("request",this.path,this.params,t,e)},_request:function(t,e,n,r,i){var o=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return"get"!==t&&"request"!==t||this.options.useCors?v[t](o,n,r,i):v.get.JSONP(o,n,r,i)}});function K(t){return t=G(t),new Q(t)}var tt=Q.extend({setters:{offset:"resultOffset",limit:"resultRecordCount",fields:"outFields",precision:"geometryPrecision",featureIds:"objectIds",returnGeometry:"returnGeometry",returnM:"returnM",transform:"datumTransformation",token:"token"},path:"query",params:{returnGeometry:!0,where:"1=1",outSr:4326,outFields:"*"},within:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelContains",this},intersects:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelIntersects",this},contains:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelWithin",this},crosses:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelCrosses",this},touches:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelTouches",this},overlaps:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelOverlaps",this},bboxIntersects:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelEnvelopeIntersects",this},indexIntersects:function(t){return this._setGeometryParams(t),this.params.spatialRel="esriSpatialRelIndexIntersects",this},nearby:function(t,e){return t=Object(u["latLng"])(t),this.params.geometry=[t.lng,t.lat],this.params.geometryType="esriGeometryPoint",this.params.spatialRel="esriSpatialRelIntersects",this.params.units="esriSRUnit_Meter",this.params.distance=e,this.params.inSr=4326,this},where:function(t){return this.params.where=t,this},between:function(t,e){return this.params.time=[t.valueOf(),e.valueOf()],this},simplify:function(t,e){var n=Math.abs(t.getBounds().getWest()-t.getBounds().getEast());return this.params.maxAllowableOffset=n/t.getSize().y*e,this},orderBy:function(t,e){return e=e||"ASC",this.params.orderByFields=this.params.orderByFields?this.params.orderByFields+",":"",this.params.orderByFields+=[t,e].join(" "),this},run:function(t,e){return this._cleanParams(),this.options.isModern||z(this.options.url)?(this.params.f="geojson",this.request(function(n,r){this._trapSQLerrors(n),t.call(e,n,r,r)},this)):this.request(function(n,r){this._trapSQLerrors(n),t.call(e,n,r&&B(r),r)},this)},count:function(t,e){return this._cleanParams(),this.params.returnCountOnly=!0,this.request(function(e,n){t.call(this,e,n&&n.count,n)},e)},ids:function(t,e){return this._cleanParams(),this.params.returnIdsOnly=!0,this.request(function(e,n){t.call(this,e,n&&n.objectIds,n)},e)},bounds:function(t,e){return this._cleanParams(),this.params.returnExtentOnly=!0,this.request(function(n,r){r&&r.extent&&F(r.extent)?t.call(e,n,F(r.extent),r):(n={message:"Invalid Bounds"},t.call(e,n,null,r))},e)},distinct:function(){return this.params.returnGeometry=!1,this.params.returnDistinctValues=!0,this},pixelSize:function(t){var e=Object(u["point"])(t);return this.params.pixelSize=[e.x,e.y],this},layer:function(t){return this.path=t+"/query",this},_trapSQLerrors:function(t){t&&"400"===t.code&&Z("one common syntax error in query requests is encasing string values in double quotes instead of single quotes")},_cleanParams:function(){delete this.params.returnIdsOnly,delete this.params.returnExtentOnly,delete this.params.returnCountOnly},_setGeometryParams:function(t){this.params.inSr=4326;var e=Y(t);this.params.geometry=e.geometry,this.params.geometryType=e.geometryType}});function et(t){return new tt(t)}var nt=et,rt=Q.extend({setters:{contains:"contains",text:"searchText",fields:"searchFields",spatialReference:"sr",sr:"sr",layers:"layers",returnGeometry:"returnGeometry",maxAllowableOffset:"maxAllowableOffset",precision:"geometryPrecision",dynamicLayers:"dynamicLayers",returnZ:"returnZ",returnM:"returnM",gdbVersion:"gdbVersion",token:"token"},path:"find",params:{sr:4326,contains:!0,returnGeometry:!0,returnZ:!0,returnM:!1},layerDefs:function(t,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[t,e].join(":"),this},simplify:function(t,e){var n=Math.abs(t.getBounds().getWest()-t.getBounds().getEast());return this.params.maxAllowableOffset=n/t.getSize().y*e,this},run:function(t,e){return this.request(function(n,r){t.call(e,n,r&&B(r),r)},e)}});function it(t){return new rt(t)}var ot=it,at=Q.extend({path:"identify",between:function(t,e){return this.params.time=[t.valueOf(),e.valueOf()],this}});function st(t){return new at(t)}var ut=at.extend({setters:{layers:"layers",precision:"geometryPrecision",tolerance:"tolerance",returnGeometry:"returnGeometry"},params:{sr:4326,layers:"all",tolerance:3,returnGeometry:!0},on:function(t){var e=R(t.getBounds()),n=t.getSize();return this.params.imageDisplay=[n.x,n.y,96],this.params.mapExtent=[e.xmin,e.ymin,e.xmax,e.ymax],this},at:function(t){return 2===t.length&&(t=Object(u["latLng"])(t)),this._setGeometryParams(t),this},layerDef:function(t,e){return this.params.layerDefs=this.params.layerDefs?this.params.layerDefs+";":"",this.params.layerDefs+=[t,e].join(":"),this},simplify:function(t,e){var n=Math.abs(t.getBounds().getWest()-t.getBounds().getEast());return this.params.maxAllowableOffset=n/t.getSize().y*e,this},run:function(t,e){return this.request(function(n,r){if(n)t.call(e,n,void 0,r);else{var i=B(r);r.results=r.results.reverse();for(var o=0;o<i.features.length;o++){var a=i.features[o];a.layerId=r.results[o].layerId}t.call(e,void 0,i,r)}})},_setGeometryParams:function(t){var e=Y(t);this.params.geometry=e.geometry,this.params.geometryType=e.geometryType}});function lt(t){return new ut(t)}var ct=lt,ht=at.extend({setters:{setMosaicRule:"mosaicRule",setRenderingRule:"renderingRule",setPixelSize:"pixelSize",returnCatalogItems:"returnCatalogItems",returnGeometry:"returnGeometry"},params:{returnGeometry:!1},at:function(t){return t=Object(u["latLng"])(t),this.params.geometry=JSON.stringify({x:t.lng,y:t.lat,spatialReference:{wkid:4326}}),this.params.geometryType="esriGeometryPoint",this},getMosaicRule:function(){return this.params.mosaicRule},getRenderingRule:function(){return this.params.renderingRule},getPixelSize:function(){return this.params.pixelSize},run:function(t,e){return this.request(function(n,r){t.call(e,n,r&&this._responseToGeoJSON(r),r)},this)},_responseToGeoJSON:function(t){var e=t.location,n=t.catalogItems,r=t.catalogItemVisibilities,i={pixel:{type:"Feature",geometry:{type:"Point",coordinates:[e.x,e.y]},crs:{type:"EPSG",properties:{code:e.spatialReference.wkid}},properties:{OBJECTID:t.objectId,name:t.name,value:t.value},id:t.objectId}};if(t.properties&&t.properties.Values&&(i.pixel.properties.values=t.properties.Values),n&&n.features&&(i.catalogItems=B(n),r&&r.length===i.catalogItems.features.length))for(var o=r.length-1;o>=0;o--)i.catalogItems.features[o].properties.catalogItemVisibility=r[o];return i}});function ft(t){return new ht(t)}var pt=ft,dt=u["Evented"].extend({options:{proxy:!1,useCors:i,timeout:0},initialize:function(t){t=t||{},this._requestQueue=[],this._authenticating=!1,u["Util"].setOptions(this,t),this.options.url=q(this.options.url)},get:function(t,e,n,r){return this._request("get",t,e,n,r)},post:function(t,e,n,r){return this._request("post",t,e,n,r)},request:function(t,e,n,r){return this._request("request",t,e,n,r)},metadata:function(t,e){return this._request("get","",{},t,e)},authenticate:function(t){return this._authenticating=!1,this.options.token=t,this._runQueue(),this},getTimeout:function(){return this.options.timeout},setTimeout:function(t){this.options.timeout=t},_request:function(t,e,n,r,i){this.fire("requeststart",{url:this.options.url+e,params:n,method:t},!0);var o=this._createServiceCallback(t,e,n,r,i);if(this.options.token&&(n.token=this.options.token),this.options.requestParams&&u["Util"].extend(n,this.options.requestParams),!this._authenticating){var a=this.options.proxy?this.options.proxy+"?"+this.options.url+e:this.options.url+e;return"get"!==t&&"request"!==t||this.options.useCors?v[t](a,n,o,i):v.get.JSONP(a,n,o,i)}this._requestQueue.push([t,e,n,r,i])},_createServiceCallback:function(t,e,n,r,i){return u["Util"].bind(function(o,a){!o||499!==o.code&&498!==o.code||(this._authenticating=!0,this._requestQueue.push([t,e,n,r,i]),this.fire("authenticationrequired",{authenticate:u["Util"].bind(this.authenticate,this)},!0),o.authenticate=u["Util"].bind(this.authenticate,this)),r.call(i,o,a),o?this.fire("requesterror",{url:this.options.url+e,params:n,message:o.message,code:o.code,method:t},!0):this.fire("requestsuccess",{url:this.options.url+e,params:n,response:a,method:t},!0),this.fire("requestend",{url:this.options.url+e,params:n,method:t},!0)},this)},_runQueue:function(){for(var t=this._requestQueue.length-1;t>=0;t--){var e=this._requestQueue[t],n=e.shift();this[n].apply(this,e)}this._requestQueue=[]}});function mt(t){return t=G(t),new dt(t)}var gt=dt.extend({identify:function(){return ct(this)},find:function(){return ot(this)},query:function(){return nt(this)}});function yt(t){return new gt(t)}var vt=yt,bt=dt.extend({query:function(){return nt(this)},identify:function(){return pt(this)}});function _t(t){return new bt(t)}var wt=_t,xt=dt.extend({options:{idAttribute:"OBJECTID"},query:function(){return nt(this)},addFeature:function(t,e,n){this.addFeatures(t,e,n)},addFeatures:function(t,e,n){for(var r=t.features?t.features:[t],i=r.length-1;i>=0;i--)delete r[i].id;return t=N(t),t=r.length>1?t:[t],this.post("addFeatures",{features:t},function(t,r){var i=r&&r.addResults?r.addResults.length>1?r.addResults:r.addResults[0]:void 0;e&&e.call(n,t||r.addResults[0].error,i)},n)},updateFeature:function(t,e,n){this.updateFeatures(t,e,n)},updateFeatures:function(t,e,n){var r=t.features?t.features:[t];return t=N(t,this.options.idAttribute),t=r.length>1?t:[t],this.post("updateFeatures",{features:t},function(t,r){var i=r&&r.updateResults?r.updateResults.length>1?r.updateResults:r.updateResults[0]:void 0;e&&e.call(n,t||r.updateResults[0].error,i)},n)},deleteFeature:function(t,e,n){this.deleteFeatures(t,e,n)},deleteFeatures:function(t,e,n){return this.post("deleteFeatures",{objectIds:t},function(t,r){var i=r&&r.deleteResults?r.deleteResults.length>1?r.deleteResults:r.deleteResults[0]:void 0;e&&e.call(n,t||r.deleteResults[0].error,i)},n)}});function Mt(t){return new xt(t)}var Ot=Mt,Lt="https:"!==window.location.protocol?"http:":"https:",St=u["TileLayer"].extend({statics:{TILES:{Streets:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Street_Map"}},Topographic:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/World_Topo_Map"}},Oceans:{urlTemplate:Lt+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"USGS, NOAA",attributionUrl:"https://static.arcgis.com/attribution/Ocean_Basemap"}},OceansLabels:{urlTemplate:Lt+"//{s}.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},NationalGeographic:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"National Geographic, DeLorme, HERE, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, increment P Corp."}},DarkGray:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},DarkGrayLabels:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Dark_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},Gray:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],attribution:"HERE, DeLorme, MapmyIndia, &copy; OpenStreetMap contributors"}},GrayLabels:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:16,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},Imagery:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],attribution:"DigitalGlobe, GeoEye, i-cubed, USDA, USGS, AEX, Getmapping, Aerogrid, IGN, IGP, swisstopo, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}},ImageryLabels:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},ImageryTransportation:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Transportation/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},ShadedRelief:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS"}},ShadedReliefLabels:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places_Alternate/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:12,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},Terrain:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],attribution:"USGS, NOAA"}},TerrainLabels:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:13,subdomains:["server","services"],pane:o?"esri-labels":"tilePane",attribution:""}},USATopo:{urlTemplate:Lt+"//{s}.arcgisonline.com/ArcGIS/rest/services/USA_Topo_Maps/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:15,subdomains:["server","services"],attribution:"USGS, National Geographic Society, i-cubed"}},ImageryClarity:{urlTemplate:Lt+"//clarity.maptiles.arcgis.com/arcgis/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community"}},Physical:{urlTemplate:Lt+"//{s}.arcgisonline.com/arcgis/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:8,subdomains:["server","services"],attribution:"U.S. National Park Service"}},ImageryFirefly:{urlTemplate:Lt+"//fly.maptiles.arcgis.com/arcgis/rest/services/World_Imagery_Firefly/MapServer/tile/{z}/{y}/{x}",options:{minZoom:1,maxZoom:19,attribution:"Esri, DigitalGlobe, GeoEye, Earthstar Geographics, CNES/Airbus DS, USDA, USGS, AeroGRID, IGN, and the GIS User Community",attributionUrl:"https://static.arcgis.com/attribution/World_Imagery"}}}},initialize:function(t,e){var n;if("object"===typeof t&&t.urlTemplate&&t.options)n=t;else{if("string"!==typeof t||!St.TILES[t])throw new Error('L.esri.BasemapLayer: Invalid parameter. Use one of "Streets", "Topographic", "Oceans", "OceansLabels", "NationalGeographic", "Physical", "Gray", "GrayLabels", "DarkGray", "DarkGrayLabels", "Imagery", "ImageryLabels", "ImageryTransportation", "ImageryClarity", "ImageryFirefly", ShadedRelief", "ShadedReliefLabels", "Terrain", "TerrainLabels" or "USATopo"');n=St.TILES[t]}var r=u["Util"].extend(n.options,e);u["Util"].setOptions(this,r),this.options.token&&-1===n.urlTemplate.indexOf("token=")&&(n.urlTemplate+="?token="+this.options.token),this.options.proxy&&(n.urlTemplate=this.options.proxy+"?"+n.urlTemplate),u["TileLayer"].prototype.initialize.call(this,n.urlTemplate,r)},onAdd:function(t){W(t),"esri-labels"===this.options.pane&&this._initPane(),this.options.attributionUrl&&H((this.options.proxy?this.options.proxy+"?":"")+this.options.attributionUrl,t),t.on("moveend",V),u["TileLayer"].prototype.onAdd.call(this,t)},onRemove:function(t){t.off("moveend",V),u["TileLayer"].prototype.onRemove.call(this,t)},_initPane:function(){if(!this._map.getPane(this.options.pane)){var t=this._map.createPane(this.options.pane);t.style.pointerEvents="none",t.style.zIndex=500}},getAttribution:function(){if(this.options.attribution)var t='<span class="esri-dynamic-attribution">'+this.options.attribution+"</span>";return t}});function Tt(t,e){return new St(t,e)}var Ct=u["TileLayer"].extend({options:{zoomOffsetAllowance:.1,errorTileUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEABAMAAACuXLVVAAAAA1BMVEUzNDVszlHHAAAAAXRSTlMAQObYZgAAAAlwSFlzAAAAAAAAAAAB6mUWpAAAADZJREFUeJztwQEBAAAAgiD/r25IQAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA7waBAAABw08RwAAAAABJRU5ErkJggg=="},statics:{MercatorZoomLevels:{0:156543.033928,1:78271.5169639999,2:39135.7584820001,3:19567.8792409999,4:9783.93962049996,5:4891.96981024998,6:2445.98490512499,7:1222.99245256249,8:611.49622628138,9:305.748113140558,10:152.874056570411,11:76.4370282850732,12:38.2185141425366,13:19.1092570712683,14:9.55462853563415,15:4.77731426794937,16:2.38865713397468,17:1.19432856685505,18:.597164283559817,19:.298582141647617,20:.14929107082381,21:.07464553541191,22:.0373227677059525,23:.0186613838529763}},initialize:function(t){t=u["Util"].setOptions(this,t),t=G(t),this.tileUrl=(t.proxy?t.proxy+"?":"")+t.url+"tile/{z}/{y}/{x}"+(t.requestParams&&Object.keys(t.requestParams).length>0?u["Util"].getParamString(t.requestParams):""),-1!==t.url.indexOf("{s}")&&t.subdomains&&(t.url=t.url.replace("{s}",t.subdomains[0])),this.service=vt(t),this.service.addEventParent(this);var e=new RegExp(/tiles.arcgis(online)?\.com/g);e.test(t.url)&&(this.tileUrl=this.tileUrl.replace("://tiles","://tiles{s}"),t.subdomains=["1","2","3","4"]),this.options.token&&(this.tileUrl+="?token="+this.options.token),u["TileLayer"].prototype.initialize.call(this,this.tileUrl,t)},getTileUrl:function(t){var e=this._getZoomForUrl();return u["Util"].template(this.tileUrl,u["Util"].extend({s:this._getSubdomain(t),x:t.x,y:t.y,z:this._lodMap&&this._lodMap[e]?this._lodMap[e]:e},this.options))},createTile:function(t,e){var n=document.createElement("img");return u["DomEvent"].on(n,"load",u["Util"].bind(this._tileOnLoad,this,e,n)),u["DomEvent"].on(n,"error",u["Util"].bind(this._tileOnError,this,e,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",!this._lodMap||this._lodMap&&this._lodMap[this._getZoomForUrl()]?n.src=this.getTileUrl(t):this.once("lodmap",function(){n.src=this.getTileUrl(t)},this),n},onAdd:function(t){W(t),this._lodMap||this.metadata(function(e,n){if(!e&&n.spatialReference){var r=n.spatialReference.latestWkid||n.spatialReference.wkid;if(!this.options.attribution&&t.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,t.attributionControl.addAttribution(this.getAttribution())),t.options.crs!==u["CRS"].EPSG3857||102100!==r&&3857!==r)t.options.crs&&t.options.crs.code&&t.options.crs.code.indexOf(r)>-1||Z("L.esri.TiledMapLayer is using a non-mercator spatial reference. Support may be available through Proj4Leaflet http://esri.github.io/esri-leaflet/examples/non-mercator-projection.html");else{this._lodMap={};for(var i=n.tileInfo.lods,o=Ct.MercatorZoomLevels,a=0;a<i.length;a++){var s=i[a];for(var l in o){var c=o[l];if(this._withinPercentage(s.resolution,c,this.options.zoomOffsetAllowance)){this._lodMap[l]=s.level;break}}}this.fire("lodmap")}}},this),u["TileLayer"].prototype.onAdd.call(this,t)},metadata:function(t,e){return this.service.metadata(t,e),this},identify:function(){return this.service.identify()},find:function(){return this.service.find()},query:function(){return this.service.query()},authenticate:function(t){var e="?token="+t;return this.tileUrl=this.options.token?this.tileUrl.replace(/\?token=(.+)/g,e):this.tileUrl+e,this.options.token=t,this.service.authenticate(t),this},_withinPercentage:function(t,e,n){var r=Math.abs(t/e-1);return r<n}});function kt(t,e){return new Ct(t,e)}var At=u["ImageOverlay"].extend({onAdd:function(t){this._topLeft=t.getPixelBounds().min,u["ImageOverlay"].prototype.onAdd.call(this,t)},_reset:function(){this._map.options.crs===u["CRS"].EPSG3857?u["ImageOverlay"].prototype._reset.call(this):u["DomUtil"].setPosition(this._image,this._topLeft.subtract(this._map.getPixelOrigin()))}}),jt=u["Layer"].extend({options:{opacity:1,position:"front",f:"image",useCors:i,attribution:null,interactive:!1,alt:""},onAdd:function(t){W(t),this.options.zIndex&&(this.options.position=null),this._update=u["Util"].throttle(this._update,this.options.updateInterval,this),t.on("moveend",this._update,this),this._currentImage&&this._currentImage._bounds.equals(this._map.getBounds())?t.addLayer(this._currentImage):this._currentImage&&(this._map.removeLayer(this._currentImage),this._currentImage=null),this._update(),this._popup&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this.metadata(function(e,n){!e&&!this.options.attribution&&t.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,t.attributionControl.addAttribution(this.getAttribution()))},this)},onRemove:function(t){this._currentImage&&this._map.removeLayer(this._currentImage),this._popup&&(this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._map.off("moveend",this._update,this)},bindPopup:function(t,e){return this._shouldRenderPopup=!1,this._lastClick=!1,this._popup=Object(u["popup"])(e),this._popupFunction=t,this._map&&(this._map.on("click",this._getPopupData,this),this._map.on("dblclick",this._resetPopupState,this)),this},unbindPopup:function(){return this._map&&(this._map.closePopup(this._popup),this._map.off("click",this._getPopupData,this),this._map.off("dblclick",this._resetPopupState,this)),this._popup=!1,this},bringToFront:function(){return this.options.position="front",this._currentImage&&(this._currentImage.bringToFront(),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this.options.position="back",this._currentImage&&(this._currentImage.bringToBack(),this._setAutoZIndex(Math.min)),this},setZIndex:function(t){return this.options.zIndex=t,this._currentImage&&this._currentImage.setZIndex(t),this},_setAutoZIndex:function(t){if(this._currentImage){for(var e,n=this._currentImage.getPane().children,r=-t(-1/0,1/0),i=0,o=n.length;i<o;i++)e=n[i].style.zIndex,n[i]!==this._currentImage._image&&e&&(r=t(r,+e));isFinite(r)&&(this.options.zIndex=r+t(-1,1),this.setZIndex(this.options.zIndex))}},getAttribution:function(){return this.options.attribution},getOpacity:function(){return this.options.opacity},setOpacity:function(t){return this.options.opacity=t,this._currentImage&&this._currentImage.setOpacity(t),this},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(t,e){return this.options.from=t,this.options.to=e,this._update(),this},metadata:function(t,e){return this.service.metadata(t,e),this},authenticate:function(t){return this.service.authenticate(t),this},redraw:function(){this._update()},_renderImage:function(t,e,n){if(this._map){if(n&&(t="data:"+n+";base64,"+t),!t)return;var r=new At(t,e,{opacity:0,crossOrigin:this.options.useCors,alt:this.options.alt,pane:this.options.pane||this.getPane(),interactive:this.options.interactive}).addTo(this._map),i=function(){this._map.removeLayer(r),this.fire("error"),r.off("load",o,this)},o=function(t){if(r.off("error",o,this),this._map){var n=t.target,i=this._currentImage;n._bounds.equals(e)&&n._bounds.equals(this._map.getBounds())?(this._currentImage=n,"front"===this.options.position?this.bringToFront():"back"===this.options.position&&this.bringToBack(),this.options.zIndex&&this.setZIndex(this.options.zIndex),this._map&&this._currentImage._map?this._currentImage.setOpacity(this.options.opacity):this._currentImage._map.removeLayer(this._currentImage),i&&this._map&&this._map.removeLayer(i),i&&i._map&&i._map.removeLayer(i)):this._map.removeLayer(n)}this.fire("load",{bounds:e})};r.once("error",i,this),r.once("load",o,this),this.fire("loading",{bounds:e})}},_update:function(){if(this._map){var t=this._map.getZoom(),e=this._map.getBounds();if(!this._animatingZoom&&(!this._map._panTransition||!this._map._panTransition._inProgress))if(t>this.options.maxZoom||t<this.options.minZoom)this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null);else{var n=this._buildExportParams();u["Util"].extend(n,this.options.requestParams),n?this._requestExport(n,e):this._currentImage&&(this._currentImage._map.removeLayer(this._currentImage),this._currentImage=null)}}},_renderPopup:function(t,e,n,r){if(t=Object(u["latLng"])(t),this._shouldRenderPopup&&this._lastClick.equals(t)){var i=this._popupFunction(e,n,r);i&&this._popup.setLatLng(t).setContent(i).openOn(this._map)}},_resetPopupState:function(t){this._shouldRenderPopup=!1,this._lastClick=t.latlng},_calculateBbox:function(){var t=this._map.getPixelBounds(),e=this._map.unproject(t.getBottomLeft()),n=this._map.unproject(t.getTopRight()),r=this._map.options.crs.project(n),i=this._map.options.crs.project(e),o=Object(u["bounds"])(r,i);return[o.getBottomLeft().x,o.getBottomLeft().y,o.getTopRight().x,o.getTopRight().y].join(",")},_calculateImageSize:function(){var t=this._map.getPixelBounds(),e=this._map.getSize(),n=this._map.unproject(t.getBottomLeft()),r=this._map.unproject(t.getTopRight()),i=this._map.latLngToLayerPoint(r).y,o=this._map.latLngToLayerPoint(n).y;return(i>0||o<e.y)&&(e.y=o-i),e.x+","+e.y}}),It=jt.extend({options:{updateInterval:150,format:"jpgpng",transparent:!0,f:"image"},query:function(){return this.service.query()},identify:function(){return this.service.identify()},initialize:function(t){t=G(t),this.service=wt(t),this.service.addEventParent(this),u["Util"].setOptions(this,t)},setPixelType:function(t){return this.options.pixelType=t,this._update(),this},getPixelType:function(){return this.options.pixelType},setBandIds:function(t){return u["Util"].isArray(t)?this.options.bandIds=t.join(","):this.options.bandIds=t.toString(),this._update(),this},getBandIds:function(){return this.options.bandIds},setNoData:function(t,e){return u["Util"].isArray(t)?this.options.noData=t.join(","):this.options.noData=t.toString(),e&&(this.options.noDataInterpretation=e),this._update(),this},getNoData:function(){return this.options.noData},getNoDataInterpretation:function(){return this.options.noDataInterpretation},setRenderingRule:function(t){this.options.renderingRule=t,this._update()},getRenderingRule:function(){return this.options.renderingRule},setMosaicRule:function(t){this.options.mosaicRule=t,this._update()},getMosaicRule:function(){return this.options.mosaicRule},_getPopupData:function(t){var e=u["Util"].bind(function(e,n,r){e||setTimeout(u["Util"].bind(function(){this._renderPopup(t.latlng,e,n,r)},this),300)},this),n=this.identify().at(t.latlng);this.options.mosaicRule&&n.setMosaicRule(this.options.mosaicRule),n.run(e),this._shouldRenderPopup=!0,this._lastClick=t.latlng},_buildExportParams:function(){var t=parseInt(this._map.options.crs.code.split(":")[1],10),e={bbox:this._calculateBbox(),size:this._calculateImageSize(),format:this.options.format,transparent:this.options.transparent,bboxSR:t,imageSR:t};return this.options.from&&this.options.to&&(e.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.options.pixelType&&(e.pixelType=this.options.pixelType),this.options.interpolation&&(e.interpolation=this.options.interpolation),this.options.compressionQuality&&(e.compressionQuality=this.options.compressionQuality),this.options.bandIds&&(e.bandIds=this.options.bandIds),(0===this.options.noData||this.options.noData)&&(e.noData=this.options.noData),this.options.noDataInterpretation&&(e.noDataInterpretation=this.options.noDataInterpretation),this.service.options.token&&(e.token=this.service.options.token),this.options.renderingRule&&(e.renderingRule=JSON.stringify(this.options.renderingRule)),this.options.mosaicRule&&(e.mosaicRule=JSON.stringify(this.options.mosaicRule)),e},_requestExport:function(t,e){"json"===this.options.f?this.service.request("exportImage",t,function(t,n){t||(this.options.token&&(n.href+="?token="+this.options.token),this.options.proxy&&(n.href=this.options.proxy+"?"+n.href),this._renderImage(n.href,e))},this):(t.f="image",this._renderImage(this.options.url+"exportImage"+u["Util"].getParamString(t),e))}});function Nt(t,e){return new It(t,e)}var Pt=jt.extend({options:{updateInterval:150,layers:!1,layerDefs:!1,timeOptions:!1,format:"png24",transparent:!0,f:"json"},initialize:function(t){t=G(t),this.service=vt(t),this.service.addEventParent(this),(t.proxy||t.token)&&"json"!==t.f&&(t.f="json"),u["Util"].setOptions(this,t)},getDynamicLayers:function(){return this.options.dynamicLayers},setDynamicLayers:function(t){return this.options.dynamicLayers=t,this._update(),this},getLayers:function(){return this.options.layers},setLayers:function(t){return this.options.layers=t,this._update(),this},getLayerDefs:function(){return this.options.layerDefs},setLayerDefs:function(t){return this.options.layerDefs=t,this._update(),this},getTimeOptions:function(){return this.options.timeOptions},setTimeOptions:function(t){return this.options.timeOptions=t,this._update(),this},query:function(){return this.service.query()},identify:function(){return this.service.identify()},find:function(){return this.service.find()},_getPopupData:function(t){var e,n=u["Util"].bind(function(e,n,r){e||setTimeout(u["Util"].bind(function(){this._renderPopup(t.latlng,e,n,r)},this),300)},this);if(e=this.options.popup?this.options.popup.on(this._map).at(t.latlng):this.identify().on(this._map).at(t.latlng),e.params.maxAllowableOffset||e.simplify(this._map,.5),this.options.popup&&this.options.popup.params&&this.options.popup.params.layers||(this.options.layers?e.layers("visible:"+this.options.layers.join(",")):e.layers("visible")),this.options.layerDefs&&"string"!==typeof this.options.layerDefs&&!e.params.layerDefs)for(var r in this.options.layerDefs)this.options.layerDefs.hasOwnProperty(r)&&e.layerDef(r,this.options.layerDefs[r]);e.run(n),this._shouldRenderPopup=!0,this._lastClick=t.latlng},_buildExportParams:function(){var t=parseInt(this._map.options.crs.code.split(":")[1],10),e={bbox:this._calculateBbox(),size:this._calculateImageSize(),dpi:96,format:this.options.format,transparent:this.options.transparent,bboxSR:t,imageSR:t};if(this.options.dynamicLayers&&(e.dynamicLayers=this.options.dynamicLayers),this.options.layers){if(0===this.options.layers.length)return;e.layers="show:"+this.options.layers.join(",")}return this.options.layerDefs&&(e.layerDefs="string"===typeof this.options.layerDefs?this.options.layerDefs:JSON.stringify(this.options.layerDefs)),this.options.timeOptions&&(e.timeOptions=JSON.stringify(this.options.timeOptions)),this.options.from&&this.options.to&&(e.time=this.options.from.valueOf()+","+this.options.to.valueOf()),this.service.options.token&&(e.token=this.service.options.token),this.options.proxy&&(e.proxy=this.options.proxy),this.options.disableCache&&(e._ts=Date.now()),e},_requestExport:function(t,e){"json"===this.options.f?this.service.request("export",t,function(t,n){t||(this.options.token&&(n.href+="?token="+this.options.token),this.options.proxy&&(n.href=this.options.proxy+"?"+n.href),n.href?this._renderImage(n.href,e):this._renderImage(n.imageData,e,n.contentType))},this):(t.f="image",this._renderImage(this.options.url+"export"+u["Util"].getParamString(t),e))}});function Ft(t,e){return new Pt(t,e)}var Rt=u["Layer"].extend({options:{cellSize:512,updateInterval:150},initialize:function(t){t=Object(u["setOptions"])(this,t),this._zooming=!1},onAdd:function(t){this._map=t,this._update=u["Util"].throttle(this._update,this.options.updateInterval,this),this._reset(),this._update()},onRemove:function(){this._map.removeEventListener(this.getEvents(),this),this._removeCells()},getEvents:function(){var t={moveend:this._update,zoomstart:this._zoomstart,zoomend:this._reset};return t},addTo:function(t){return t.addLayer(this),this},removeFrom:function(t){return t.removeLayer(this),this},_zoomstart:function(){this._zooming=!0},_reset:function(){this._removeCells(),this._cells={},this._activeCells={},this._cellsToLoad=0,this._cellsTotal=0,this._cellNumBounds=this._getCellNumBounds(),this._resetWrap(),this._zooming=!1},_resetWrap:function(){var t=this._map,e=t.options.crs;if(!e.infinite){var n=this._getCellSize();e.wrapLng&&(this._wrapLng=[Math.floor(t.project([0,e.wrapLng[0]]).x/n),Math.ceil(t.project([0,e.wrapLng[1]]).x/n)]),e.wrapLat&&(this._wrapLat=[Math.floor(t.project([e.wrapLat[0],0]).y/n),Math.ceil(t.project([e.wrapLat[1],0]).y/n)])}},_getCellSize:function(){return this.options.cellSize},_update:function(){if(this._map){var t=this._map.getPixelBounds(),e=this._getCellSize(),n=Object(u["bounds"])(t.min.divideBy(e).floor(),t.max.divideBy(e).floor());this._removeOtherCells(n),this._addCells(n),this.fire("cellsupdated")}},_addCells:function(t){var e,n,r,i=[],o=t.getCenter(),a=this._map.getZoom();for(e=t.min.y;e<=t.max.y;e++)for(n=t.min.x;n<=t.max.x;n++)r=Object(u["point"])(n,e),r.z=a,this._isValidCell(r)&&i.push(r);var s=i.length;if(0!==s)for(this._cellsToLoad+=s,this._cellsTotal+=s,i.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),n=0;n<s;n++)this._addCell(i[n])},_isValidCell:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._cellNumBounds;if(!n)return!1;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._cellCoordsToBounds(t);return Object(u["latLngBounds"])(this.options.bounds).intersects(r)},_cellCoordsToBounds:function(t){var e=this._map,n=this.options.cellSize,r=t.multiplyBy(n),i=r.add([n,n]),o=e.wrapLatLng(e.unproject(r,t.z)),a=e.wrapLatLng(e.unproject(i,t.z));return Object(u["latLngBounds"])(o,a)},_cellCoordsToKey:function(t){return t.x+":"+t.y},_keyToCellCoords:function(t){var e=t.split(":"),n=parseInt(e[0],10),r=parseInt(e[1],10);return Object(u["point"])(n,r)},_removeOtherCells:function(t){for(var e in this._cells)t.contains(this._keyToCellCoords(e))||this._removeCell(e)},_removeCell:function(t){var e=this._activeCells[t];e&&(delete this._activeCells[t],this.cellLeave&&this.cellLeave(e.bounds,e.coords),this.fire("cellleave",{bounds:e.bounds,coords:e.coords}))},_removeCells:function(){for(var t in this._cells){var e=this._cells[t].bounds,n=this._cells[t].coords;this.cellLeave&&this.cellLeave(e,n),this.fire("cellleave",{bounds:e,coords:n})}},_addCell:function(t){this._wrapCoords(t);var e=this._cellCoordsToKey(t),n=this._cells[e];n&&!this._activeCells[e]&&(this.cellEnter&&this.cellEnter(n.bounds,t),this.fire("cellenter",{bounds:n.bounds,coords:t}),this._activeCells[e]=n),n||(n={coords:t,bounds:this._cellCoordsToBounds(t)},this._cells[e]=n,this._activeCells[e]=n,this.createCell&&this.createCell(n.bounds,t),this.fire("cellcreate",{bounds:n.bounds,coords:t}))},_wrapCoords:function(t){t.x=this._wrapLng?u["Util"].wrapNum(t.x,this._wrapLng):t.x,t.y=this._wrapLat?u["Util"].wrapNum(t.y,this._wrapLat):t.y},_getCellNumBounds:function(){var t=this._map.getPixelWorldBounds(),e=this._getCellSize();return t?Object(u["bounds"])(t.min.divideBy(e).floor(),t.max.divideBy(e).ceil().subtract([1,1])):null}}),Ut=Rt;function Dt(t){this.values=[].concat(t||[])}Dt.prototype.query=function(t){var e=this.getIndex(t);return this.values[e]},Dt.prototype.getIndex=function(t){this.dirty&&this.sort();var e,n,r=0,i=this.values.length-1;while(r<=i)if(e=(r+i)/2|0,n=this.values[Math.round(e)],+n.value<+t)r=e+1;else{if(!(+n.value>+t))return e;i=e-1}return Math.abs(~i)},Dt.prototype.between=function(t,e){var n=this.getIndex(t),r=this.getIndex(e);if(0===n&&0===r)return[];while(this.values[n-1]&&this.values[n-1].value===t)n--;while(this.values[r+1]&&this.values[r+1].value===e)r++;return this.values[r]&&this.values[r].value===e&&this.values[r+1]&&r++,this.values.slice(n,r)},Dt.prototype.insert=function(t){return this.values.splice(this.getIndex(t.value),0,t),this},Dt.prototype.bulkAdd=function(t,e){return this.values=this.values.concat([].concat(t||[])),e?this.sort():this.dirty=!0,this},Dt.prototype.sort=function(){return this.values.sort(function(t,e){return+e.value-+t.value}).reverse(),this.dirty=!1,this};var Et=Dt,Bt=Ut.extend({options:{attribution:null,where:"1=1",fields:["*"],from:!1,to:!1,timeField:!1,timeFilterMode:"server",simplifyFactor:0,precision:6},initialize:function(t){if(Ut.prototype.initialize.call(this,t),t=G(t),t=u["Util"].setOptions(this,t),this.service=Ot(t),this.service.addEventParent(this),"*"!==this.options.fields[0]){for(var e=!1,n=0;n<this.options.fields.length;n++)this.options.fields[n].match(/^(OBJECTID|FID|OID|ID)$/i)&&(e=!0);!1===e&&Z("no known esriFieldTypeOID field detected in fields Array.  Please add an attribute field containing unique IDs to ensure the layer can be drawn correctly.")}this.options.timeField.start&&this.options.timeField.end?(this._startTimeIndex=new Et,this._endTimeIndex=new Et):this.options.timeField&&(this._timeIndex=new Et),this._cache={},this._currentSnapshot=[],this._activeRequests=0},onAdd:function(t){return W(t),this.service.metadata(function(e,n){if(!e){var r=n.supportedQueryFormats,i=!1;!1===this.service.options.isModern&&(i=!0),!i&&r&&-1!==r.indexOf("geoJSON")&&(this.service.options.isModern=!0),n.objectIdField&&(this.service.options.idAttribute=n.objectIdField),!this.options.attribution&&t.attributionControl&&n.copyrightText&&(this.options.attribution=n.copyrightText,t.attributionControl.addAttribution(this.getAttribution()))}},this),t.on("zoomend",this._handleZoomChange,this),Ut.prototype.onAdd.call(this,t)},onRemove:function(t){return t.off("zoomend",this._handleZoomChange,this),Ut.prototype.onRemove.call(this,t)},getAttribution:function(){return this.options.attribution},createCell:function(t,e){this._visibleZoom()&&this._requestFeatures(t,e)},_requestFeatures:function(t,e,n){return this._activeRequests++,1===this._activeRequests&&this.fire("loading",{bounds:t},!0),this._buildQuery(t).run(function(r,i,o){o&&o.exceededTransferLimit&&this.fire("drawlimitexceeded"),!r&&i&&i.features.length&&u["Util"].requestAnimFrame(u["Util"].bind(function(){this._addFeatures(i.features,e),this._postProcessFeatures(t)},this)),r||!i||i.features.length||this._postProcessFeatures(t),r&&this._postProcessFeatures(t),n&&n.call(this,r,i)},this)},_postProcessFeatures:function(t){this._activeRequests--,this._activeRequests<=0&&this.fire("load",{bounds:t})},_cacheKey:function(t){return t.z+":"+t.x+":"+t.y},_addFeatures:function(t,e){var n=this._cacheKey(e);this._cache[n]=this._cache[n]||[];for(var r=t.length-1;r>=0;r--){var i=t[r].id;-1===this._currentSnapshot.indexOf(i)&&this._currentSnapshot.push(i),-1===this._cache[n].indexOf(i)&&this._cache[n].push(i)}this.options.timeField&&this._buildTimeIndexes(t),this.createLayers(t)},_buildQuery:function(t){var e=this.service.query().intersects(t).where(this.options.where).fields(this.options.fields).precision(this.options.precision);return this.options.requestParams&&u["Util"].extend(e.params,this.options.requestParams),this.options.simplifyFactor&&e.simplify(this._map,this.options.simplifyFactor),"server"===this.options.timeFilterMode&&this.options.from&&this.options.to&&e.between(this.options.from,this.options.to),e},setWhere:function(t,e,n){this.options.where=t&&t.length?t:"1=1";for(var r=[],i=[],o=0,a=null,s=u["Util"].bind(function(t,s){if(t&&(a=t),s)for(var l=s.features.length-1;l>=0;l--)i.push(s.features[l].id);o--,o<=0&&this._visibleZoom()&&(this._currentSnapshot=i,u["Util"].requestAnimFrame(u["Util"].bind(function(){this.removeLayers(r),this.addLayers(i),e&&e.call(n,a)},this)))},this),l=this._currentSnapshot.length-1;l>=0;l--)r.push(this._currentSnapshot[l]);for(var c in this._activeCells){o++;var h=this._keyToCellCoords(c),f=this._cellCoordsToBounds(h);this._requestFeatures(f,c,s)}return this},getWhere:function(){return this.options.where},getTimeRange:function(){return[this.options.from,this.options.to]},setTimeRange:function(t,e,n,r){var i=this.options.from,o=this.options.to,a=0,s=null,l=u["Util"].bind(function(u){u&&(s=u),this._filterExistingFeatures(i,o,t,e),a--,n&&a<=0&&n.call(r,s)},this);if(this.options.from=t,this.options.to=e,this._filterExistingFeatures(i,o,t,e),"server"===this.options.timeFilterMode)for(var c in this._activeCells){a++;var h=this._keyToCellCoords(c),f=this._cellCoordsToBounds(h);this._requestFeatures(f,c,l)}return this},refresh:function(){for(var t in this._activeCells){var e=this._keyToCellCoords(t),n=this._cellCoordsToBounds(e);this._requestFeatures(n,t)}this.redraw&&this.once("load",function(){this.eachFeature(function(t){this._redraw(t.feature.id)},this)},this)},_filterExistingFeatures:function(t,e,n,r){var i=t&&e?this._getFeaturesInTimeRange(t,e):this._currentSnapshot,o=this._getFeaturesInTimeRange(n,r);if(o.indexOf)for(var a=0;a<o.length;a++){var s=i.indexOf(o[a]);s>=0&&i.splice(s,1)}u["Util"].requestAnimFrame(u["Util"].bind(function(){this.removeLayers(i),this.addLayers(o)},this))},_getFeaturesInTimeRange:function(t,e){var n,r=[];if(this.options.timeField.start&&this.options.timeField.end){var i=this._startTimeIndex.between(t,e),o=this._endTimeIndex.between(t,e);n=i.concat(o)}else n=this._timeIndex.between(t,e);for(var a=n.length-1;a>=0;a--)r.push(n[a].id);return r},_buildTimeIndexes:function(t){var e,n;if(this.options.timeField.start&&this.options.timeField.end){var r=[],i=[];for(e=t.length-1;e>=0;e--)n=t[e],r.push({id:n.id,value:new Date(n.properties[this.options.timeField.start])}),i.push({id:n.id,value:new Date(n.properties[this.options.timeField.end])});this._startTimeIndex.bulkAdd(r),this._endTimeIndex.bulkAdd(i)}else{var o=[];for(e=t.length-1;e>=0;e--)n=t[e],o.push({id:n.id,value:new Date(n.properties[this.options.timeField])});this._timeIndex.bulkAdd(o)}},_featureWithinTimeRange:function(t){if(!this.options.from||!this.options.to)return!0;var e=+this.options.from.valueOf(),n=+this.options.to.valueOf();if("string"===typeof this.options.timeField){var r=+t.properties[this.options.timeField];return r>=e&&r<=n}if(this.options.timeField.start&&this.options.timeField.end){var i=+t.properties[this.options.timeField.start],o=+t.properties[this.options.timeField.end];return i>=e&&i<=n||o>=e&&o<=n}},_visibleZoom:function(){if(!this._map)return!1;var t=this._map.getZoom();return!(t>this.options.maxZoom||t<this.options.minZoom)},_handleZoomChange:function(){if(this._visibleZoom())for(var t in this._activeCells){var e=this._activeCells[t].coords,n=this._cacheKey(e);this._cache[n]&&this.addLayers(this._cache[n])}else this.removeLayers(this._currentSnapshot),this._currentSnapshot=[]},authenticate:function(t){return this.service.authenticate(t),this},metadata:function(t,e){return this.service.metadata(t,e),this},query:function(){return this.service.query()},_getMetadata:function(t){var e;this._metadata?t(e,this._metadata):this.metadata(u["Util"].bind(function(e,n){this._metadata=n,t(e,this._metadata)},this))},addFeature:function(t,e,n){this.addFeatures(t,e,n)},addFeatures:function(t,e,n){this._getMetadata(u["Util"].bind(function(r,i){if(r)e&&e.call(this,r,null);else{var o=t.features?t.features:[t];this.service.addFeatures(t,u["Util"].bind(function(t,r){if(!t){for(var a=o.length-1;a>=0;a--)o[a].properties[i.objectIdField]=o.length>1?r[a].objectId:r.objectId,o[a].id=o.length>1?r[a].objectId:r.objectId;this.createLayers(o)}e&&e.call(n,t,r)},this))}},this))},updateFeature:function(t,e,n){this.updateFeatures(t,e,n)},updateFeatures:function(t,e,n){var r=t.features?t.features:[t];this.service.updateFeatures(t,function(t,i){if(!t){for(var o=r.length-1;o>=0;o--)this.removeLayers([r[o].id],!0);this.createLayers(r)}e&&e.call(n,t,i)},this)},deleteFeature:function(t,e,n){this.deleteFeatures(t,e,n)},deleteFeatures:function(t,e,n){return this.service.deleteFeatures(t,function(t,r){var i=r.length?r:[r];if(!t&&i.length>0)for(var o=i.length-1;o>=0;o--)this.removeLayers([i[o].objectId],!0);e&&e.call(n,t,r)},this)}}),qt=Bt.extend({options:{cacheLayers:!0},initialize:function(t){Bt.prototype.initialize.call(this,t),this._originalStyle=this.options.style,this._layers={}},onRemove:function(t){for(var e in this._layers)t.removeLayer(this._layers[e]),this.fire("removefeature",{feature:this._layers[e].feature,permanent:!1},!0);return Bt.prototype.onRemove.call(this,t)},createNewLayer:function(t){var e=u["GeoJSON"].geometryToLayer(t,this.options);return e&&(e.defaultOptions=e.options),e},_updateLayer:function(t,e){var n=[],r=this.options.coordsToLatLng||u["GeoJSON"].coordsToLatLng;switch(e.properties&&(t.feature.properties=e.properties),e.geometry.type){case"Point":n=u["GeoJSON"].coordsToLatLng(e.geometry.coordinates),t.setLatLng(n);break;case"LineString":n=u["GeoJSON"].coordsToLatLngs(e.geometry.coordinates,0,r),t.setLatLngs(n);break;case"MultiLineString":n=u["GeoJSON"].coordsToLatLngs(e.geometry.coordinates,1,r),t.setLatLngs(n);break;case"Polygon":n=u["GeoJSON"].coordsToLatLngs(e.geometry.coordinates,1,r),t.setLatLngs(n);break;case"MultiPolygon":n=u["GeoJSON"].coordsToLatLngs(e.geometry.coordinates,2,r),t.setLatLngs(n);break}},createLayers:function(t){for(var e=t.length-1;e>=0;e--){var n,r=t[e],i=this._layers[r.id];this._visibleZoom()&&i&&!this._map.hasLayer(i)&&(this._map.addLayer(i),this.fire("addfeature",{feature:i.feature},!0)),i&&this.options.simplifyFactor>0&&(i.setLatLngs||i.setLatLng)&&this._updateLayer(i,r),i||(n=this.createNewLayer(r),n?(n.feature=r,n.addEventParent(this),this.options.onEachFeature&&this.options.onEachFeature(n.feature,n),this._layers[n.feature.id]=n,this.setFeatureStyle(n.feature.id,this.options.style),this.fire("createfeature",{feature:n.feature},!0),this._visibleZoom()&&(!this.options.timeField||this.options.timeField&&this._featureWithinTimeRange(r))&&this._map.addLayer(n)):Z("invalid GeoJSON encountered"))}},addLayers:function(t){for(var e=t.length-1;e>=0;e--){var n=this._layers[t[e]];n&&this._map.addLayer(n)}},removeLayers:function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n],i=this._layers[r];i&&(this.fire("removefeature",{feature:i.feature,permanent:e},!0),this._map.removeLayer(i)),i&&e&&delete this._layers[r]}},cellEnter:function(t,e){this._visibleZoom()&&!this._zooming&&this._map&&u["Util"].requestAnimFrame(u["Util"].bind(function(){var t=this._cacheKey(e),n=this._cellCoordsToKey(e),r=this._cache[t];this._activeCells[n]&&r&&this.addLayers(r)},this))},cellLeave:function(t,e){this._zooming||u["Util"].requestAnimFrame(u["Util"].bind(function(){if(this._map){var t=this._cacheKey(e),n=this._cellCoordsToKey(e),r=this._cache[t],i=this._map.getBounds();if(!this._activeCells[n]&&r){for(var o=!0,a=0;a<r.length;a++){var s=this._layers[r[a]];s&&s.getBounds&&i.intersects(s.getBounds())&&(o=!1)}o&&this.removeLayers(r,!this.options.cacheLayers),!this.options.cacheLayers&&o&&(delete this._cache[t],delete this._cells[n],delete this._activeCells[n])}}},this))},resetStyle:function(){return this.options.style=this._originalStyle,this.eachFeature(function(t){this.resetFeatureStyle(t.feature.id)},this),this},setStyle:function(t){return this.options.style=t,this.eachFeature(function(e){this.setFeatureStyle(e.feature.id,t)},this),this},resetFeatureStyle:function(t){var e=this._layers[t],n=this._originalStyle||u["Path"].prototype.options;return e&&(u["Util"].extend(e.options,e.defaultOptions),this.setFeatureStyle(t,n)),this},setFeatureStyle:function(t,e){var n=this._layers[t];return"function"===typeof e&&(e=e(n.feature)),n.setStyle&&n.setStyle(e),this},eachActiveFeature:function(t,e){if(this._map){var n=this._map.getBounds();for(var r in this._layers)-1!==this._currentSnapshot.indexOf(this._layers[r].feature.id)&&("function"===typeof this._layers[r].getLatLng&&n.contains(this._layers[r].getLatLng())?t.call(e,this._layers[r]):"function"===typeof this._layers[r].getBounds&&n.intersects(this._layers[r].getBounds())&&t.call(e,this._layers[r]))}return this},eachFeature:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getFeature:function(t){return this._layers[t]},bringToBack:function(){this.eachFeature(function(t){t.bringToBack&&t.bringToBack()})},bringToFront:function(){this.eachFeature(function(t){t.bringToFront&&t.bringToFront()})},redraw:function(t){return t&&this._redraw(t),this},_redraw:function(t){var e=this._layers[t],n=e.feature;if(e&&e.setIcon&&this.options.pointToLayer&&this.options.pointToLayer){var r=this.options.pointToLayer(n,Object(u["latLng"])(n.geometry.coordinates[1],n.geometry.coordinates[0])),i=r.options.icon;e.setIcon(i)}if(e&&e.setStyle&&this.options.pointToLayer){var o=this.options.pointToLayer(n,Object(u["latLng"])(n.geometry.coordinates[1],n.geometry.coordinates[0])),a=o.options;this.setFeatureStyle(n.id,a)}e&&e.setStyle&&this.options.style&&this.resetStyle(n.id)}});function Gt(t){return new qt(t)}n.d(e,"VERSION",function(){return r["a"]}),n.d(e,"Support",function(){return a}),n.d(e,"options",function(){return s}),n.d(e,"Util",function(){return X}),n.d(e,"get",function(){return g}),n.d(e,"post",function(){return f}),n.d(e,"request",function(){return d}),n.d(e,"Task",function(){return Q}),n.d(e,"task",function(){return K}),n.d(e,"Query",function(){return tt}),n.d(e,"query",function(){return et}),n.d(e,"Find",function(){return rt}),n.d(e,"find",function(){return it}),n.d(e,"Identify",function(){return at}),n.d(e,"identify",function(){return st}),n.d(e,"IdentifyFeatures",function(){return ut}),n.d(e,"identifyFeatures",function(){return lt}),n.d(e,"IdentifyImage",function(){return ht}),n.d(e,"identifyImage",function(){return ft}),n.d(e,"Service",function(){return dt}),n.d(e,"service",function(){return mt}),n.d(e,"MapService",function(){return gt}),n.d(e,"mapService",function(){return yt}),n.d(e,"ImageService",function(){return bt}),n.d(e,"imageService",function(){return _t}),n.d(e,"FeatureLayerService",function(){return xt}),n.d(e,"featureLayerService",function(){return Mt}),n.d(e,"BasemapLayer",function(){return St}),n.d(e,"basemapLayer",function(){return Tt}),n.d(e,"TiledMapLayer",function(){return Ct}),n.d(e,"tiledMapLayer",function(){return kt}),n.d(e,"RasterLayer",function(){return jt}),n.d(e,"ImageMapLayer",function(){return It}),n.d(e,"imageMapLayer",function(){return Nt}),n.d(e,"DynamicMapLayer",function(){return Pt}),n.d(e,"dynamicMapLayer",function(){return Ft}),n.d(e,"FeatureManager",function(){return Bt}),n.d(e,"FeatureLayer",function(){return qt}),n.d(e,"featureLayer",function(){return Gt})},"3c61":function(t,e,n){"use strict";var r=n("eb8d"),i=n.n(r);i.a},"4bb4":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{xclass:"map"}},[n("l-map",{ref:"map",staticStyle:{height:"700px","background-color":"rgb(123, 173, 223)"},attrs:{"min-zoom":3,zoom:3,center:[.02,36.9]}}),n("b-modal",{attrs:{id:"country-detail",size:"lg"},scopedSlots:t._u([{key:"modal-header",fn:function(e){var r=e.close;return[n("table",[n("tr",[n("td",[n("v-flag",{attrs:{country:t.iso2,size:"normal"}}),t._v("   ")],1),n("td",[n("h5",{staticClass:"modal-title"},[t._v(" "+t._s(t.modalTitle))])])])]),n("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return r()}}},[t._v("\n            ×\n          ")])]}}])},t._l(t.projects.data,function(e){return n("table",{staticClass:"popup table"},[n("tr",[n("td",[n("strong",[t._v("Title")])]),n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.title))])]),n("tr",[n("td",[n("strong",[t._v("Summary")])]),n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.summary))])]),n("tr",[n("td",[n("strong",[t._v("Objectives")])]),n("td",{attrs:{colspan:"3"}},[t._v(t._s(e.objectives))])]),n("tr",[n("td",[n("strong",[t._v("Party to")])]),n("td",{attrs:{colspan:"3"}},[t._l(e.party,function(e){return[t._v("\n           "+t._s(e.party_name)+";\n         ")]})],2)]),n("tr",[n("td",{staticStyle:{width:"110px"}},[n("strong",[t._v("Co-financing")])]),n("td",{staticClass:"text-left"},[t._v(t._s(t._f("toCurrency")(e.co_financing_usd)))]),n("td",{staticClass:"text-right"},[n("strong",[t._v("Trust Fund")])]),n("td",{staticClass:"text-left",staticStyle:{width:"100px"}},[t._v(t._s(t._f("toCurrency")(e.sp_trust_fund_usd)))])]),n("tr",[n("td",[n("strong",[t._v("Duration")])]),n("td",{attrs:{colspan:"3"}},[t._v(t._s(parseInt(e.duration_months))+" months")])]),e.story_url?n("tr",[n("td",[n("strong",[t._v("Story URL")])]),n("td",{attrs:{colspan:"3"}},[n("a",{attrs:{href:e.story_url,target:"_blank"}},[t._v(t._s(e.story_url))])])]):t._e()])}),0)],1)},i=[],o=(n("7f7f"),n("e11e")),a=n.n(o),s=n("2b0e"),u=new s["default"]({data:{}}),l=n("6149"),c=n.n(l),h=n("ce24");L.BubbleLayer=(L.Layer?L.Layer:L.Class).extend({initialize:function(t,e){console.log("initalized: ",e,t),this._geojson=t,e.max_radius=e.hasOwnProperty("max_radius")?e.max_radius:35,e.legend=!e.hasOwnProperty("legend")||e.legend,e.tooltip=!e.hasOwnProperty("tooltip")||e.tooltip,e.scale=!!e.hasOwnProperty("scale")&&e.scale,e.style=e.hasOwnProperty("style")?e.style:{radius:10,fillColor:"#74acb8",color:"#555",weight:1,opacity:.5,fillOpacity:.5},L.setOptions(this,e);var n=this._hasRequiredProp(this.options.property);if(!n)throw"Error: you must provide an amount property that is include in every GeoJSON feature"},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t;var e=this.createLayer();this._layer=e,t.addLayer(e),this.options.tooltip&&this.showTooltip(e),this.options.legend&&this.showLegend(this._scale,this._max)},createLayer:function(t){var e=this._getMax(this._geojson),n=3*Math.PI*3,r=Math.PI*this.options.max_radius*this.options.max_radius,i=h.scaleLinear().domain([0,e]).range([n,r]),o=h.scaleLinear().domain([0,e]).range([0,1]);this._scale=i,this._normal=o,this._max=e;var a=this.options.property,s=this.options.style,u=!1;return this.options.scale&&(u=c.a.scale(this.options.scale)),new L.geoJson(this._geojson,{pointToLayer:function(t,e){var n=t.properties[a],r=i(n),l=Math.sqrt(r/Math.PI);s.radius=l,u&&(s.fillColor=u(o(n))),s.color=c()(s.fillColor).darken().hex();var h=L.circleMarker(e,s);return h}})},onRemove:function(t){this._map=t,t.removeLayer(this._layer)},showLegend:function(t,e){var n=L.control({position:"bottomright"}),r=this.options.max_radius,i=this.options.style.fillColor,o=!1,a=this.options.style.opacity,s=h.scaleLinear().domain([0,e]).range([0,1]);this.options.scale&&(o=c.a.scale(this.options.scale)),n.onAdd=function(n){var u=L.DomUtil.create("div","info legend");u.innerHTML+="<strong>"+bubbles.options.property+"</strong><br/>",u.style="background-color: #FFF; padding: 8px; font-size: 14px; text-transform: capitalize";for(var l=3;l>0;l--){var h=t(e/l/2),f=Math.sqrt(h/Math.PI),p=L.DomUtil.create("div","bubble");o&&(i=o(s(e/l))),p.innerHTML='<svg height="'+2*r+'" width="'+(2*r-r/2)+'"><circle cx="'+(f+1)+'" cy="'+r+'" r="'+f+'" stroke="'+c()(i).darken().hex()+'" stroke-width="1" opacity="'+a+'" fill="'+i+'" /><text font-size="11" text-anchor="middle" x="'+f+'" y="'+2*r+'" fill="#AAA">'+numeral(e/l).format("0 a"),p.style="float:left; width: "+f+";",u.appendChild(p)}return u},n.addTo(map)},showTooltip:function(t){var e;t.on("mouseover",function(t){var n="",r=t.layer.feature.properties;for(var i in r)r.hasOwnProperty(i)&&("id"!=i?n+="<strong>"+i+"</strong>: "+r[i]+"</br>":e=r[i]);t.layer.bindPopup(n+"<br>Click for more info... "),t.layer.openPopup()}),t.on("mouseout",function(t){t.layer.closePopup()}),t.on("click",function(t){u.$emit("bubble-layer-clicked",{ojb:t,id:e})})},_getMax:function(t){for(var e=0,n=this._geojson.features,r=this.options.property,i=0;i<n.length;i++)n[i].properties[r]>e&&(e=n[i].properties[r]);return e},_hasRequiredProp:function(t){for(var e=!0,n=this._geojson.features,r=0;r<n.length;r++)!0!==n[r].properties.hasOwnProperty(t)&&(e=!1);return e}}),L.bubbleLayer=function(t,e){return new L.BubbleLayer(t,e)};var f=function(t,e){var n;return function(){var r=[],i=arguments.length;while(i--)r[i]=arguments[i];var o=this;n&&clearTimeout(n),n=setTimeout(function(){t.apply(o,r),n=null},e)}},p=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},d=function(t,e,n,r){var i=function(r){var i="set"+p(r),a=n[r].type===Object||n[r].type===Array||Array.isArray(n[r].type);n[r].custom&&t[i]?t.$watch(r,function(e,n){t[i](e,n)},{deep:a}):"setOptions"===i?t.$watch(r,function(t,n){Object(o["setOptions"])(e,t)},{deep:a}):e[i]&&t.$watch(r,function(t,n){e[i](t)},{deep:a})};for(var a in n)i(a)},m=function(t){var e={};for(var n in t){var r=t[n];null!==r&&void 0!==r&&(e[n]=r)}return e},g=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var r=m(n);t=m(t);var i=e.$options.props;for(var o in t){var a=i[o]?i[o].default:Symbol("unique");r[o]&&a!==t[o]?(console.warn(o+" props is overriding the value passed in the options props"),r[o]=t[o]):r[o]||(r[o]=t[o])}return r},y={props:{options:{type:Object,default:function(){return{}}}}},v={name:"LMap",mixins:[y],props:{center:{type:[Object,Array],custom:!0,default:function(){return[0,0]}},bounds:{type:[Array,Object],custom:!0,default:null},maxBounds:{type:[Array,Object],default:null},zoom:{type:Number,custom:!0,default:0},minZoom:{type:Number,default:null},maxZoom:{type:Number,default:null},paddingBottomRight:{type:Array,custom:!0,default:null},paddingTopLeft:{type:Array,custom:!0,default:null},padding:{type:Array,custom:!0,default:null},worldCopyJump:{type:Boolean,default:!1},crs:{type:Object,custom:!0,default:function(){return o["CRS"].EPSG3857}},maxBoundsViscosity:{type:Number,default:null},inertia:{type:Boolean,default:null},inertiaDeceleration:{type:Number,default:null},inertiaMaxSpeed:{type:Number,default:null},easeLinearity:{type:Number,default:null},zoomAnimation:{type:Boolean,default:null},zoomAnimationThreshold:{type:Number,default:null},fadeAnimation:{type:Boolean,default:null},markerZoomAnimation:{type:Boolean,default:null},noBlockingAnimations:{type:Boolean,default:!1}},data:function(){return{ready:!1,lastSetCenter:null,lastSetBounds:null,lastSetZoom:null,layerControl:void 0,layersToAdd:[]}},computed:{fitBoundsOptions:function(){var t={};return this.padding?t.padding=this.padding:(this.paddingBottomRight&&(t.paddingBottomRight=this.paddingBottomRight),this.paddingTopLeft&&(t.paddingTopLeft=this.paddingTopLeft)),t}},mounted:function(){var t=this,e=g({minZoom:this.minZoom,maxZoom:this.maxZoom,maxBounds:this.maxBounds,maxBoundsViscosity:this.maxBoundsViscosity,worldCopyJump:this.worldCopyJump,crs:this.crs,center:this.center,zoom:this.zoom,inertia:this.inertia,inertiaDeceleration:this.inertiaDeceleration,inertiaMaxSpeed:this.inertiaMaxSpeed,easeLinearity:this.easeLinearity,zoomAnimation:this.zoomAnimation,zoomAnimationThreshold:this.zoomAnimationThreshold,fadeAnimation:this.fadeAnimation,markerZoomAnimation:this.markerZoomAnimation},this);this.mapObject=Object(o["map"])(this.$el,e),this.setBounds(this.bounds),this.mapObject.on("moveend",f(this.moveEndHandler,100)),o["DomEvent"].on(this.mapObject,this.$listeners),d(this,this.mapObject,this.$options.props),this.ready=!0,this.$emit("leaflet:load"),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},methods:{registerLayerControl:function(t){var e=this;this.layerControl=t,this.mapObject.addControl(t.mapObject),this.layersToAdd.forEach(function(t){e.layerControl.addLayer(t)}),this.layersToAdd=[]},addLayer:function(t,e){void 0!==t.layerType&&(void 0===this.layerControl?this.layersToAdd.push(t):this.layerControl.addLayer(t)),e||this.mapObject.addLayer(t.mapObject)},removeLayer:function(t,e){void 0!==t.layerType&&(void 0===this.layerControl?this.layersToAdd=this.layersToAdd.filter(function(e){return e.name!==t.name}):this.layerControl.removeLayer(t)),e||this.mapObject.removeLayer(t.mapObject)},setZoom:function(t,e){this.mapObject.setZoom(t,{animate:!!this.noBlockingAnimations&&null})},setCenter:function(t,e){if(null!=t){var n=Object(o["latLng"])(t),r=this.lastSetCenter||this.mapObject.getCenter();r.lat===n.lat&&r.lng===n.lng||(this.lastSetCenter=n,this.mapObject.panTo(n,{animate:!!this.noBlockingAnimations&&null}))}},setBounds:function(t,e){if(t){var n=Object(o["latLngBounds"])(t);if(n.isValid()){var r=this.lastSetBounds||this.mapObject.getBounds(),i=!r.equals(n,0);i&&(this.lastSetBounds=n,this.mapObject.fitBounds(n,this.fitBoundsOptions))}}},setPaddingBottomRight:function(t,e){this.paddingBottomRight=t},setPaddingTopLeft:function(t,e){this.paddingTopLeft=t},setPadding:function(t,e){this.padding=t},setCrs:function(t,e){console.log("Changing CRS is not yet supported by Leaflet")},fitBounds:function(t){this.mapObject.fitBounds(t)},moveEndHandler:function(){this.$emit("update:zoom",this.mapObject.getZoom());var t=this.mapObject.getCenter();this.$emit("update:center",t);var e=this.mapObject.getBounds();this.$emit("update:bounds",e)}}};function b(t,e,n,r,i,o,a,s,u,l){"boolean"!==typeof a&&(u=s,s=a,a=!1);var c,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),r&&(h._scopeId=r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=a?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(h.functional){var f=h.render;h.render=function(t,e){return c.call(e),f(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return n}var _=b,w="undefined"!==typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function x(t){return function(t,e){return S(t,e)}}var M=document.head||document.getElementsByTagName("head")[0],O={};function S(t,e){var n=w?e.media||"default":t,r=O[n]||(O[n]={ids:new Set,styles:[]});if(!r.ids.has(t)){r.ids.add(t);var i=e.source;if(e.map&&(i+="\n/*# sourceURL="+e.map.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",e.media&&r.element.setAttribute("media",e.media),M.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(i),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var o=r.ids.size-1,a=document.createTextNode(i),s=r.element.childNodes;s[o]&&r.element.removeChild(s[o]),s.length?r.element.insertBefore(a,s[o]):r.element.appendChild(a)}}}var T=x,C=v,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vue2leaflet-map"},[t.ready?t._t("default"):t._e()],2)},A=[],j=function(t){t&&t("data-v-09897586_0",{source:".vue2leaflet-map{height:100%;width:100%}",map:void 0,media:void 0})},I=void 0,N=void 0,P=!1,F=_({render:k,staticRenderFns:A},j,C,I,P,N,T,void 0),R=F,U=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},D=function(t,e,n,r){var i=function(r){var i="set"+U(r),a=n[r].type===Object||n[r].type===Array||Array.isArray(n[r].type);n[r].custom&&t[i]?t.$watch(r,function(e,n){t[i](e,n)},{deep:a}):"setOptions"===i?t.$watch(r,function(t,n){Object(o["setOptions"])(e,t)},{deep:a}):e[i]&&t.$watch(r,function(t,n){e[i](t)},{deep:a})};for(var a in n)i(a)},E=function(t){var e={};for(var n in t){var r=t[n];null!==r&&void 0!==r&&(e[n]=r)}return e},B=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var r=E(n);t=E(t);var i=e.$options.props;for(var o in t){var a=i[o]?i[o].default:Symbol("unique");r[o]&&a!==t[o]?(console.warn(o+" props is overriding the value passed in the options props"),r[o]=t[o]):r[o]||(r[o]=t[o])}return r},q=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},G={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,e){var n=this.$parent.mapObject.attributionControl;n.removeAttribution(e).addAttribution(t)},setName:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setLayerType:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setVisible:function(t,e){t!==e&&this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()}}},z={mixins:[G],props:{pane:{type:String,default:"tilePane"},opacity:{type:Number,custom:!1,default:1},zIndex:{type:Number,default:1},tileSize:{type:Number,default:256},noWrap:{type:Boolean,default:!1}},mounted:function(){this.gridLayerOptions=Object.assign({},this.layerOptions,{pane:this.pane,opacity:this.opacity,zIndex:this.zIndex,tileSize:this.tileSize,noWrap:this.noWrap})}},$={mixins:[z],props:{tms:{type:Boolean,default:!1},detectRetina:{type:Boolean,default:!1}},mounted:function(){this.tileLayerOptions=Object.assign({},this.gridLayerOptions,{tms:this.tms,detectRetina:this.detectRetina})},render:function(){return null}},Z={props:{options:{type:Object,default:function(){return{}}}}},J={name:"LTileLayer",mixins:[$,Z],props:{url:{type:String,default:null},tileLayerClass:{type:Function,default:o["tileLayer"]}},mounted:function(){var t=this,e=B(this.tileLayerOptions,this);this.mapObject=this.tileLayerClass(this.url,e),o["DomEvent"].on(this.mapObject,this.$listeners),D(this,this.mapObject,this.$options.props),this.parentContainer=q(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.$nextTick(function(){t.$emit("ready",t.mapObject)})}};function W(t,e,n,r,i,o,a,s,u,l){"boolean"!==typeof a&&(u=s,s=a,a=!1);var c,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),r&&(h._scopeId=r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=a?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(h.functional){var f=h.render;h.render=function(t,e){return c.call(e),f(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return n}var Y=W,H=J,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},X=[],Q=void 0,K=void 0,tt=void 0,et=!1,nt=Y({render:V,staticRenderFns:X},Q,H,K,et,tt,void 0,void 0),rt=nt,it=function(t,e){var n;return function(){var r=[],i=arguments.length;while(i--)r[i]=arguments[i];var o=this;n&&clearTimeout(n),n=setTimeout(function(){t.apply(o,r),n=null},e)}},ot=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},at=function(t,e,n,r){var i=function(r){var i="set"+ot(r),a=n[r].type===Object||n[r].type===Array||Array.isArray(n[r].type);n[r].custom&&t[i]?t.$watch(r,function(e,n){t[i](e,n)},{deep:a}):"setOptions"===i?t.$watch(r,function(t,n){Object(o["setOptions"])(e,t)},{deep:a}):e[i]&&t.$watch(r,function(t,n){e[i](t)},{deep:a})};for(var a in n)i(a)},st=function(t){var e={};for(var n in t){var r=t[n];null!==r&&void 0!==r&&(e[n]=r)}return e},ut=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var r=st(n);t=st(t);var i=e.$options.props;for(var o in t){var a=i[o]?i[o].default:Symbol("unique");r[o]&&a!==t[o]?(console.warn(o+" props is overriding the value passed in the options props"),r[o]=t[o]):r[o]||(r[o]=t[o])}return r},lt=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},ct={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,e){var n=this.$parent.mapObject.attributionControl;n.removeAttribution(e).addAttribution(t)},setName:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setLayerType:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setVisible:function(t,e){t!==e&&this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()}}},ht={props:{options:{type:Object,default:function(){return{}}}}},ft={name:"LMarker",mixins:[ct,ht],props:{pane:{type:String,default:"markerPane"},draggable:{type:Boolean,custom:!0,default:!1},latLng:{type:[Object,Array],custom:!0,default:null},icon:{type:[Object],custom:!1,default:function(){return new o["Icon"].Default}},zIndexOffset:{type:Number,custom:!1,default:null}},data:function(){return{ready:!1}},mounted:function(){var t=this,e=ut(Object.assign({},this.layerOptions,{icon:this.icon,zIndexOffset:this.zIndexOffset,draggable:this.draggable}),this);this.mapObject=Object(o["marker"])(this.latLng,e),o["DomEvent"].on(this.mapObject,this.$listeners),this.mapObject.on("move",it(this.latLngSync,100)),at(this,this.mapObject,this.$options.props),this.parentContainer=lt(this.$parent),this.parentContainer.addLayer(this,!this.visible),this.ready=!0,this.$nextTick(function(){t.$emit("ready",t.mapObject)})},methods:{setDraggable:function(t,e){this.mapObject.dragging&&(t?this.mapObject.dragging.enable():this.mapObject.dragging.disable())},setLatLng:function(t){if(null!=t&&this.mapObject){var e=this.mapObject.getLatLng(),n=Object(o["latLng"])(t);n.lat===e.lat&&n.lng===e.lng||this.mapObject.setLatLng(n)}},latLngSync:function(t){this.$emit("update:latLng",t.latlng)}},render:function(t){return this.ready&&this.$slots.default?t("div",{style:{display:"none"}},this.$slots.default):null}};function pt(t,e,n,r,i,o,a,s,u,l){"boolean"!==typeof a&&(u=s,s=a,a=!1);var c,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),r&&(h._scopeId=r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=a?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(h.functional){var f=h.render;h.render=function(t,e){return c.call(e),f(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return n}var dt=pt,mt=ft,gt=void 0,yt=void 0,vt=void 0,bt=void 0,_t=dt({},gt,mt,yt,bt,vt,void 0,void 0),wt=_t,xt=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Mt=function(t,e,n,r){var i=function(r){var i="set"+xt(r),a=n[r].type===Object||n[r].type===Array||Array.isArray(n[r].type);n[r].custom&&t[i]?t.$watch(r,function(e,n){t[i](e,n)},{deep:a}):"setOptions"===i?t.$watch(r,function(t,n){Object(o["setOptions"])(e,t)},{deep:a}):e[i]&&t.$watch(r,function(t,n){e[i](t)},{deep:a})};for(var a in n)i(a)},Ot=function(t){var e={};for(var n in t){var r=t[n];null!==r&&void 0!==r&&(e[n]=r)}return e},Lt=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var r=Ot(n);t=Ot(t);var i=e.$options.props;for(var o in t){var a=i[o]?i[o].default:Symbol("unique");r[o]&&a!==t[o]?(console.warn(o+" props is overriding the value passed in the options props"),r[o]=t[o]):r[o]||(r[o]=t[o])}return r},St=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},Tt={props:{pane:{type:String,default:"overlayPane"},attribution:{type:String,default:null},name:{type:String,custom:!0,default:void 0},layerType:{type:String,custom:!0,default:void 0},visible:{type:Boolean,custom:!0,default:!0}},mounted:function(){this.layerOptions={attribution:this.attribution,pane:this.pane}},beforeDestroy:function(){this.unbindPopup(),this.unbindTooltip(),this.parentContainer.removeLayer(this)},methods:{setAttribution:function(t,e){var n=this.$parent.mapObject.attributionControl;n.removeAttribution(e).addAttribution(t)},setName:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setLayerType:function(t,e){t!==e&&(this.parentContainer.removeLayer(this),this.visible&&this.parentContainer.addLayer(this))},setVisible:function(t,e){t!==e&&this.mapObject&&(t?this.parentContainer.addLayer(this):this.parentContainer.removeLayer(this))},unbindTooltip:function(){var t=this.mapObject?this.mapObject.getTooltip():null;t&&t.unbindTooltip()},unbindPopup:function(){var t=this.mapObject?this.mapObject.getPopup():null;t&&t.unbindPopup()}}},Ct={mixins:[Tt],mounted:function(){this.layerGroupOptions=this.layerOptions},methods:{addLayer:function(t,e){e||this.mapObject.addLayer(t.mapObject),this.parentContainer.addLayer(t,!0)},removeLayer:function(t,e){e||this.mapObject.removeLayer(t.mapObject),this.parentContainer.removeLayer(t,!0)}}},kt={name:"LGeoJson",mixins:[Ct],props:{geojson:{type:[Object,Array],custom:!0,default:function(){return{}}},options:{type:Object,custom:!0,default:function(){return{}}},optionsStyle:{type:[Object,Function],custom:!0,default:null}},computed:{mergedOptions:function(){return Lt(Object.assign({},this.layerGroupOptions,{style:this.optionsStyle}),this)}},mounted:function(){var t=this;this.mapObject=Object(o["geoJSON"])(this.geojson,this.mergedOptions),o["DomEvent"].on(this.mapObject,this.$listeners),Mt(this,this.mapObject,this.$options.props),this.parentContainer=St(this.$parent,!0),this.parentContainer.addLayer(this,!this.visible),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},beforeDestroy:function(){this.parentContainer.mapObject.removeLayer(this.mapObject)},methods:{setGeojson:function(t){this.mapObject.clearLayers(),this.mapObject.addData(t)},getGeoJSONData:function(){return this.mapObject.toGeoJSON()},getBounds:function(){return this.mapObject.getBounds()},setOptions:function(t,e){this.mapObject.clearLayers(),Object(o["setOptions"])(this.mapObject,this.mergedOptions),this.mapObject.addData(this.geojson)},setOptionsStyle:function(t,e){this.mapObject.setStyle(t)}},render:function(){return null}};function At(t,e,n,r,i,o,a,s,u,l){"boolean"!==typeof a&&(u=s,s=a,a=!1);var c,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),r&&(h._scopeId=r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=a?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(h.functional){var f=h.render;h.render=function(t,e){return c.call(e),f(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return n}var jt=At,It=kt,Nt=void 0,Pt=void 0,Ft=void 0,Rt=void 0,Ut=jt({},Nt,It,Pt,Rt,Ft,void 0,void 0),Dt=Ut,Et=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Bt=function(t,e,n,r){var i=function(r){var i="set"+Et(r),a=n[r].type===Object||n[r].type===Array||Array.isArray(n[r].type);n[r].custom&&t[i]?t.$watch(r,function(e,n){t[i](e,n)},{deep:a}):"setOptions"===i?t.$watch(r,function(t,n){Object(o["setOptions"])(e,t)},{deep:a}):e[i]&&t.$watch(r,function(t,n){e[i](t)},{deep:a})};for(var a in n)i(a)},qt=function(t){var e={};for(var n in t){var r=t[n];null!==r&&void 0!==r&&(e[n]=r)}return e},Gt=function(t,e){var n=e.options&&e.options.constructor===Object?e.options:{};t=t&&t.constructor===Object?t:{};var r=qt(n);t=qt(t);var i=e.$options.props;for(var o in t){var a=i[o]?i[o].default:Symbol("unique");r[o]&&a!==t[o]?(console.warn(o+" props is overriding the value passed in the options props"),r[o]=t[o]):r[o]||(r[o]=t[o])}return r},zt=function(t){var e=!1;while(!e)void 0===t.mapObject?t=t.$parent:e=!0;return t},$t={props:{content:{type:String,default:null,custom:!0}},mounted:function(){this.popperOptions={}},methods:{setContent:function(t){this.mapObject&&null!==t&&void 0!==t&&this.mapObject.setContent(t)}},render:function(t){return this.$slots.default?t("div",this.$slots.default):null}},Zt={props:{options:{type:Object,default:function(){return{}}}}},Jt={name:"LPopup",mixins:[$t,Zt],props:{latLng:{type:[Object,Array],default:function(){return[]}}},mounted:function(){var t=this,e=Gt(this.popperOptions,this);this.mapObject=Object(o["popup"])(e),void 0!==this.latLng&&this.mapObject.setLatLng(this.latLng),o["DomEvent"].on(this.mapObject,this.$listeners),Bt(this,this.mapObject,this.$options.props),this.mapObject.setContent(this.content||this.$el),this.parentContainer=zt(this.$parent),this.parentContainer.mapObject.bindPopup(this.mapObject),this.$nextTick(function(){t.$emit("ready",t.mapObject)})},beforeDestroy:function(){this.parentContainer&&this.parentContainer.unbindPopup()}};function Wt(t,e,n,r,i,o,a,s,u,l){"boolean"!==typeof a&&(u=s,s=a,a=!1);var c,h="function"===typeof n?n.options:n;if(t&&t.render&&(h.render=t.render,h.staticRenderFns=t.staticRenderFns,h._compiled=!0,i&&(h.functional=!0)),r&&(h._scopeId=r),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,u(t)),t&&t._registeredComponents&&t._registeredComponents.add(o)},h._ssrRegister=c):e&&(c=a?function(){e.call(this,l(this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),c)if(h.functional){var f=h.render;h.render=function(t,e){return c.call(e),f(t,e)}}else{var p=h.beforeCreate;h.beforeCreate=p?[].concat(p,c):[c]}return n}var Yt=Wt,Ht=Jt,Vt=void 0,Xt=void 0,Qt=void 0,Kt=void 0,te=Yt({},Vt,Ht,Xt,Kt,Qt,void 0,void 0),ee=te,ne=n("3023"),re={name:"DashboardMap",props:{},components:{LMap:R,LTileLayer:rt,LMarker:wt,LGeoJson:Dt,LPopup:ee},data:function(){return{modalTitle:"",iso2:"",projects:{data:{},bubbles:{}}}},computed:{},watch:{},methods:{loadBaseMap:function(){var t=ne.tiledMapLayer({url:"https://uneplivemapservices.unep.org/arcgis/rest/services/UNBASEMAP_Tiled/MapServer",maxZoom:5,minZoom:2});this.$refs.map.mapObject.addLayer(t)},prepareProjectBubblesOnMap:function(){var t={type:"FeatureCollection",features:[]},e={};this.$_.forOwn(this.$store.getters.getCountryProjectCount,function(n,r){e={type:"Feature",geometry:{type:"Point",coordinates:[parseFloat(n.lon),parseFloat(n.lat)]},properties:{Country:n.name,Projects:parseInt(n.projects.count),id:n.iso_2}},t.features.push(e)}),t.features=this.$_.filter(t.features,function(t){if("undefined"!=typeof t.properties)return t.properties.Projects>0}),this.addProjectBubblesOnMap(t),this.projects.data=t},addProjectBubblesOnMap:function(t){this.$_.isEmpty(this.projects.bubbles)||this.$refs.map.mapObject.removeLayer(this.projects.bubbles),this.projects.bubbles=a.a.bubbleLayer(t,{property:"Projects",legend:!1,max_radius:15,tooltip:!0}),this.$refs.map.mapObject.addLayer(this.projects.bubbles)}},mounted:function(){var t=this;this.loadBaseMap(),this.prepareProjectBubblesOnMap(),this.$store.watch(function(t,e){return e.getCountryProjectCount},function(e,n){t.prepareProjectBubblesOnMap()}),u.$on("bubble-layer-clicked",function(e){console.log(e);var n=e.id;t.$bvModal.show("country-detail");var r=t.$store.getters.getAllProjectData,i=t.$_.filter(r,{country:[{country_iso_2:n}]});t.projects.data=i;var o=t.$store.getters.getCountry,a=t.$_.filter(o,{iso_2:n});t.modalTitle="Project in "+a[0].name,t.iso2=a[0].iso_2})},created:function(){}},ie=re,oe=(n("3c61"),n("2877")),ae=Object(oe["a"])(ie,r,i,!1,null,null,null);e["default"]=ae.exports},6149:function(t,e,n){
/**
 * chroma.js - JavaScript library for color conversions
 *
 * Copyright (c) 2011-2019, Gregor Aisch
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice, this
 * list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 * this list of conditions and the following disclaimer in the documentation
 * and/or other materials provided with the distribution.
 *
 * 3. The name Gregor Aisch may not be used to endorse or promote products
 * derived from this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED. IN NO EVENT SHALL GREGOR AISCH OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,
 * INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,
 * BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 * EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 *
 * -------------------------------------------------------
 *
 * chroma.js includes colors from colorbrewer2.org, which are released under
 * the following license:
 *
 * Copyright (c) 2002 Cynthia Brewer, Mark Harrower,
 * and The Pennsylvania State University.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing,
 * software distributed under the License is distributed on an
 * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND,
 * either express or implied. See the License for the specific
 * language governing permissions and limitations under the License.
 *
 * ------------------------------------------------------
 *
 * Named colors are taken from X11 Color Names.
 * http://www.w3.org/TR/css3-color/#svg-color
 *
 * @preserve
 */
(function(e,n){t.exports=n()})(0,function(){"use strict";for(var t=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},e=function(e){e._clipped=!1,e._unclipped=e.slice(0);for(var n=0;n<=3;n++)n<3?((e[n]<0||e[n]>255)&&(e._clipped=!0),e[n]=t(e[n],0,255)):3===n&&(e[n]=t(e[n],0,1));return e},n={},r=0,i=["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"];r<i.length;r+=1){var o=i[r];n["[object "+o+"]"]=o.toLowerCase()}var a=function(t){return n[Object.prototype.toString.call(t)]||"object"},s=function(t,e){return void 0===e&&(e=null),t.length>=3?Array.prototype.slice.call(t):"object"==a(t[0])&&e?e.split("").filter(function(e){return void 0!==t[0][e]}).map(function(e){return t[0][e]}):t[0]},u=function(t){if(t.length<2)return null;var e=t.length-1;return"string"==a(t[e])?t[e].toLowerCase():null},l=Math.PI,c={clip_rgb:e,limit:t,type:a,unpack:s,last:u,PI:l,TWOPI:2*l,PITHIRD:l/3,DEG2RAD:l/180,RAD2DEG:180/l},h={format:{},autodetect:[]},f=c.last,p=c.clip_rgb,d=c.type,m=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=this;if("object"===d(t[0])&&t[0].constructor&&t[0].constructor===this.constructor)return t[0];var r=f(t),i=!1;if(!r){i=!0,h.sorted||(h.autodetect=h.autodetect.sort(function(t,e){return e.p-t.p}),h.sorted=!0);for(var o=0,a=h.autodetect;o<a.length;o+=1){var s=a[o];if(r=s.test.apply(s,t),r)break}}if(!h.format[r])throw new Error("unknown format: "+t);var u=h.format[r].apply(null,i?t:t.slice(0,-1));n._rgb=p(u),3===n._rgb.length&&n._rgb.push(1)};m.prototype.toString=function(){return"function"==d(this.hex)?this.hex():"["+this._rgb.join(",")+"]"};var g=m,y=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(y.Color,[null].concat(t)))};y.Color=g,y.version="2.0.4";var v=y,b=c.unpack,_=Math.max,w=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=b(t,"rgb"),r=n[0],i=n[1],o=n[2];r/=255,i/=255,o/=255;var a=1-_(r,_(i,o)),s=a<1?1/(1-a):0,u=(1-r-a)*s,l=(1-i-a)*s,c=(1-o-a)*s;return[u,l,c,a]},x=w,M=c.unpack,O=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];t=M(t,"cmyk");var n=t[0],r=t[1],i=t[2],o=t[3],a=t.length>4?t[4]:1;return 1===o?[0,0,0,a]:[n>=1?0:255*(1-n)*(1-o),r>=1?0:255*(1-r)*(1-o),i>=1?0:255*(1-i)*(1-o),a]},L=O,S=c.unpack,T=c.type;g.prototype.cmyk=function(){return x(this._rgb)},v.cmyk=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["cmyk"])))},h.format.cmyk=L,h.autodetect.push({p:2,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(t=S(t,"cmyk"),"array"===T(t)&&4===t.length)return"cmyk"}});var C=c.unpack,k=c.last,A=function(t){return Math.round(100*t)/100},j=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=C(t,"hsla"),r=k(t)||"lsa";return n[0]=A(n[0]||0),n[1]=A(100*n[1])+"%",n[2]=A(100*n[2])+"%","hsla"===r||n.length>3&&n[3]<1?(n[3]=n.length>3?n[3]:1,r="hsla"):n.length=3,r+"("+n.join(",")+")"},I=j,N=c.unpack,P=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];t=N(t,"rgba");var n=t[0],r=t[1],i=t[2];n/=255,r/=255,i/=255;var o,a,s=Math.min(n,r,i),u=Math.max(n,r,i),l=(u+s)/2;return u===s?(o=0,a=Number.NaN):o=l<.5?(u-s)/(u+s):(u-s)/(2-u-s),n==u?a=(r-i)/(u-s):r==u?a=2+(i-n)/(u-s):i==u&&(a=4+(n-r)/(u-s)),a*=60,a<0&&(a+=360),t.length>3&&void 0!==t[3]?[a,o,l,t[3]]:[a,o,l]},F=P,R=c.unpack,U=c.last,D=Math.round,E=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=R(t,"rgba"),r=U(t)||"rgb";return"hsl"==r.substr(0,3)?I(F(n),r):(n[0]=D(n[0]),n[1]=D(n[1]),n[2]=D(n[2]),("rgba"===r||n.length>3&&n[3]<1)&&(n[3]=n.length>3?n[3]:1,r="rgba"),r+"("+n.slice(0,"rgb"===r?3:4).join(",")+")")},B=E,q=c.unpack,G=Math.round,z=function(){var t,e=[],n=arguments.length;while(n--)e[n]=arguments[n];e=q(e,"hsl");var r,i,o,a=e[0],s=e[1],u=e[2];if(0===s)r=i=o=255*u;else{var l=[0,0,0],c=[0,0,0],h=u<.5?u*(1+s):u+s-u*s,f=2*u-h,p=a/360;l[0]=p+1/3,l[1]=p,l[2]=p-1/3;for(var d=0;d<3;d++)l[d]<0&&(l[d]+=1),l[d]>1&&(l[d]-=1),6*l[d]<1?c[d]=f+6*(h-f)*l[d]:2*l[d]<1?c[d]=h:3*l[d]<2?c[d]=f+(h-f)*(2/3-l[d])*6:c[d]=f;t=[G(255*c[0]),G(255*c[1]),G(255*c[2])],r=t[0],i=t[1],o=t[2]}return e.length>3?[r,i,o,e[3]]:[r,i,o,1]},$=z,Z=/^rgb\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*\)$/,J=/^rgba\(\s*(-?\d+),\s*(-?\d+)\s*,\s*(-?\d+)\s*,\s*([01]|[01]?\.\d+)\)$/,W=/^rgb\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,Y=/^rgba\(\s*(-?\d+(?:\.\d+)?)%,\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,H=/^hsl\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*\)$/,V=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,X=Math.round,Q=function(t){var e;if(t=t.toLowerCase().trim(),h.format.named)try{return h.format.named(t)}catch(m){}if(e=t.match(Z)){for(var n=e.slice(1,4),r=0;r<3;r++)n[r]=+n[r];return n[3]=1,n}if(e=t.match(J)){for(var i=e.slice(1,5),o=0;o<4;o++)i[o]=+i[o];return i}if(e=t.match(W)){for(var a=e.slice(1,4),s=0;s<3;s++)a[s]=X(2.55*a[s]);return a[3]=1,a}if(e=t.match(Y)){for(var u=e.slice(1,5),l=0;l<3;l++)u[l]=X(2.55*u[l]);return u[3]=+u[3],u}if(e=t.match(H)){var c=e.slice(1,4);c[1]*=.01,c[2]*=.01;var f=$(c);return f[3]=1,f}if(e=t.match(V)){var p=e.slice(1,4);p[1]*=.01,p[2]*=.01;var d=$(p);return d[3]=+e[4],d}};Q.test=function(t){return Z.test(t)||J.test(t)||W.test(t)||Y.test(t)||H.test(t)||V.test(t)};var K=Q,tt=c.type;g.prototype.css=function(t){return B(this._rgb,t)},v.css=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["css"])))},h.format.css=K,h.autodetect.push({p:5,test:function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];if(!e.length&&"string"===tt(t)&&K.test(t))return"css"}});var et=c.unpack;h.format.gl=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=et(t,"rgba");return n[0]*=255,n[1]*=255,n[2]*=255,n},v.gl=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["gl"])))},g.prototype.gl=function(){var t=this._rgb;return[t[0]/255,t[1]/255,t[2]/255,t[3]]};var nt=c.unpack,rt=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n,r=nt(t,"rgb"),i=r[0],o=r[1],a=r[2],s=Math.min(i,o,a),u=Math.max(i,o,a),l=u-s,c=100*l/255,h=s/(255-l)*100;return 0===l?n=Number.NaN:(i===u&&(n=(o-a)/l),o===u&&(n=2+(a-i)/l),a===u&&(n=4+(i-o)/l),n*=60,n<0&&(n+=360)),[n,c,h]},it=rt,ot=c.unpack,at=Math.floor,st=function(){var t,e,n,r,i,o,a=[],s=arguments.length;while(s--)a[s]=arguments[s];a=ot(a,"hcg");var u,l,c,h=a[0],f=a[1],p=a[2];p*=255;var d=255*f;if(0===f)u=l=c=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var m=at(h),g=h-m,y=p*(1-f),v=y+d*(1-g),b=y+d*g,_=y+d;switch(m){case 0:t=[_,b,y],u=t[0],l=t[1],c=t[2];break;case 1:e=[v,_,y],u=e[0],l=e[1],c=e[2];break;case 2:n=[y,_,b],u=n[0],l=n[1],c=n[2];break;case 3:r=[y,v,_],u=r[0],l=r[1],c=r[2];break;case 4:i=[b,y,_],u=i[0],l=i[1],c=i[2];break;case 5:o=[_,y,v],u=o[0],l=o[1],c=o[2];break}}return[u,l,c,a.length>3?a[3]:1]},ut=st,lt=c.unpack,ct=c.type;g.prototype.hcg=function(){return it(this._rgb)},v.hcg=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["hcg"])))},h.format.hcg=ut,h.autodetect.push({p:1,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(t=lt(t,"hcg"),"array"===ct(t)&&3===t.length)return"hcg"}});var ht=c.unpack,ft=c.last,pt=Math.round,dt=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=ht(t,"rgba"),r=n[0],i=n[1],o=n[2],a=n[3],s=ft(t)||"auto";void 0===a&&(a=1),"auto"===s&&(s=a<1?"rgba":"rgb"),r=pt(r),i=pt(i),o=pt(o);var u=r<<16|i<<8|o,l="000000"+u.toString(16);l=l.substr(l.length-6);var c="0"+pt(255*a).toString(16);switch(c=c.substr(c.length-2),s.toLowerCase()){case"rgba":return"#"+l+c;case"argb":return"#"+c+l;default:return"#"+l}},mt=dt,gt=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,yt=/^#?([A-Fa-f0-9]{8})$/,vt=function(t){if(t.match(gt)){4!==t.length&&7!==t.length||(t=t.substr(1)),3===t.length&&(t=t.split(""),t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=parseInt(t,16),n=e>>16,r=e>>8&255,i=255&e;return[n,r,i,1]}if(t.match(yt)){9===t.length&&(t=t.substr(1));var o=parseInt(t,16),a=o>>24&255,s=o>>16&255,u=o>>8&255,l=Math.round((255&o)/255*100)/100;return[a,s,u,l]}throw new Error("unknown hex color: "+t)},bt=vt,_t=c.type;g.prototype.hex=function(t){return mt(this._rgb,t)},v.hex=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["hex"])))},h.format.hex=bt,h.autodetect.push({p:4,test:function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];if(!e.length&&"string"===_t(t)&&[3,4,6,7,8,9].includes(t.length))return"hex"}});var wt=c.unpack,xt=c.TWOPI,Mt=Math.min,Ot=Math.sqrt,Lt=Math.acos,St=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n,r=wt(t,"rgb"),i=r[0],o=r[1],a=r[2];i/=255,o/=255,a/=255;var s=Mt(i,o,a),u=(i+o+a)/3,l=u>0?1-s/u:0;return 0===l?n=NaN:(n=(i-o+(i-a))/2,n/=Ot((i-o)*(i-o)+(i-a)*(o-a)),n=Lt(n),a>o&&(n=xt-n),n/=xt),[360*n,l,u]},Tt=St,Ct=c.unpack,kt=c.limit,At=c.TWOPI,jt=c.PITHIRD,It=Math.cos,Nt=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];t=Ct(t,"hsi");var n,r,i,o=t[0],a=t[1],s=t[2];return isNaN(o)&&(o=0),isNaN(a)&&(a=0),o>360&&(o-=360),o<0&&(o+=360),o/=360,o<1/3?(i=(1-a)/3,n=(1+a*It(At*o)/It(jt-At*o))/3,r=1-(i+n)):o<2/3?(o-=1/3,n=(1-a)/3,r=(1+a*It(At*o)/It(jt-At*o))/3,i=1-(n+r)):(o-=2/3,r=(1-a)/3,i=(1+a*It(At*o)/It(jt-At*o))/3,n=1-(r+i)),n=kt(s*n*3),r=kt(s*r*3),i=kt(s*i*3),[255*n,255*r,255*i,t.length>3?t[3]:1]},Pt=Nt,Ft=c.unpack,Rt=c.type;g.prototype.hsi=function(){return Tt(this._rgb)},v.hsi=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["hsi"])))},h.format.hsi=Pt,h.autodetect.push({p:2,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(t=Ft(t,"hsi"),"array"===Rt(t)&&3===t.length)return"hsi"}});var Ut=c.unpack,Dt=c.type;g.prototype.hsl=function(){return F(this._rgb)},v.hsl=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["hsl"])))},h.format.hsl=$,h.autodetect.push({p:2,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(t=Ut(t,"hsl"),"array"===Dt(t)&&3===t.length)return"hsl"}});var Et=c.unpack,Bt=Math.min,qt=Math.max,Gt=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];t=Et(t,"rgb");var n,r,i,o=t[0],a=t[1],s=t[2],u=Bt(o,a,s),l=qt(o,a,s),c=l-u;return i=l/255,0===l?(n=Number.NaN,r=0):(r=c/l,o===l&&(n=(a-s)/c),a===l&&(n=2+(s-o)/c),s===l&&(n=4+(o-a)/c),n*=60,n<0&&(n+=360)),[n,r,i]},zt=Gt,$t=c.unpack,Zt=Math.floor,Jt=function(){var t,e,n,r,i,o,a=[],s=arguments.length;while(s--)a[s]=arguments[s];a=$t(a,"hsv");var u,l,c,h=a[0],f=a[1],p=a[2];if(p*=255,0===f)u=l=c=p;else{360===h&&(h=0),h>360&&(h-=360),h<0&&(h+=360),h/=60;var d=Zt(h),m=h-d,g=p*(1-f),y=p*(1-f*m),v=p*(1-f*(1-m));switch(d){case 0:t=[p,v,g],u=t[0],l=t[1],c=t[2];break;case 1:e=[y,p,g],u=e[0],l=e[1],c=e[2];break;case 2:n=[g,p,v],u=n[0],l=n[1],c=n[2];break;case 3:r=[g,y,p],u=r[0],l=r[1],c=r[2];break;case 4:i=[v,g,p],u=i[0],l=i[1],c=i[2];break;case 5:o=[p,g,y],u=o[0],l=o[1],c=o[2];break}}return[u,l,c,a.length>3?a[3]:1]},Wt=Jt,Yt=c.unpack,Ht=c.type;g.prototype.hsv=function(){return zt(this._rgb)},v.hsv=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["hsv"])))},h.format.hsv=Wt,h.autodetect.push({p:2,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(t=Yt(t,"hsv"),"array"===Ht(t)&&3===t.length)return"hsv"}});var Vt={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},Xt=c.unpack,Qt=Math.pow,Kt=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=Xt(t,"rgb"),r=n[0],i=n[1],o=n[2],a=ne(r,i,o),s=a[0],u=a[1],l=a[2],c=116*u-16;return[c<0?0:c,500*(s-u),200*(u-l)]},te=function(t){return(t/=255)<=.04045?t/12.92:Qt((t+.055)/1.055,2.4)},ee=function(t){return t>Vt.t3?Qt(t,1/3):t/Vt.t2+Vt.t0},ne=function(t,e,n){t=te(t),e=te(e),n=te(n);var r=ee((.4124564*t+.3575761*e+.1804375*n)/Vt.Xn),i=ee((.2126729*t+.7151522*e+.072175*n)/Vt.Yn),o=ee((.0193339*t+.119192*e+.9503041*n)/Vt.Zn);return[r,i,o]},re=Kt,ie=c.unpack,oe=Math.pow,ae=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];t=ie(t,"lab");var n,r,i,o,a,s,u=t[0],l=t[1],c=t[2];return r=(u+16)/116,n=isNaN(l)?r:r+l/500,i=isNaN(c)?r:r-c/200,r=Vt.Yn*ue(r),n=Vt.Xn*ue(n),i=Vt.Zn*ue(i),o=se(3.2404542*n-1.5371385*r-.4985314*i),a=se(-.969266*n+1.8760108*r+.041556*i),s=se(.0556434*n-.2040259*r+1.0572252*i),[o,a,s,t.length>3?t[3]:1]},se=function(t){return 255*(t<=.00304?12.92*t:1.055*oe(t,1/2.4)-.055)},ue=function(t){return t>Vt.t1?t*t*t:Vt.t2*(t-Vt.t0)},le=ae,ce=c.unpack,he=c.type;g.prototype.lab=function(){return re(this._rgb)},v.lab=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["lab"])))},h.format.lab=le,h.autodetect.push({p:2,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(t=ce(t,"lab"),"array"===he(t)&&3===t.length)return"lab"}});var fe=c.unpack,pe=c.RAD2DEG,de=Math.sqrt,me=Math.atan2,ge=Math.round,ye=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=fe(t,"lab"),r=n[0],i=n[1],o=n[2],a=de(i*i+o*o),s=(me(o,i)*pe+360)%360;return 0===ge(1e4*a)&&(s=Number.NaN),[r,a,s]},ve=ye,be=c.unpack,_e=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=be(t,"rgb"),r=n[0],i=n[1],o=n[2],a=re(r,i,o),s=a[0],u=a[1],l=a[2];return ve(s,u,l)},we=_e,xe=c.unpack,Me=c.DEG2RAD,Oe=Math.sin,Le=Math.cos,Se=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=xe(t,"lch"),r=n[0],i=n[1],o=n[2];return isNaN(o)&&(o=0),o*=Me,[r,Le(o)*i,Oe(o)*i]},Te=Se,Ce=c.unpack,ke=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];t=Ce(t,"lch");var n=t[0],r=t[1],i=t[2],o=Te(n,r,i),a=o[0],s=o[1],u=o[2],l=le(a,s,u),c=l[0],h=l[1],f=l[2];return[c,h,f,t.length>3?t[3]:1]},Ae=ke,je=c.unpack,Ie=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=je(t,"hcl").reverse();return Ae.apply(void 0,n)},Ne=Ie,Pe=c.unpack,Fe=c.type;g.prototype.lch=function(){return we(this._rgb)},g.prototype.hcl=function(){return we(this._rgb).reverse()},v.lch=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["lch"])))},v.hcl=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["hcl"])))},h.format.lch=Ae,h.format.hcl=Ne,["lch","hcl"].forEach(function(t){return h.autodetect.push({p:2,test:function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];if(e=Pe(e,t),"array"===Fe(e)&&3===e.length)return t}})});var Re={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Ue=Re,De=c.type;g.prototype.name=function(){for(var t=mt(this._rgb,"rgb"),e=0,n=Object.keys(Ue);e<n.length;e+=1){var r=n[e];if(Ue[r]===t)return r.toLowerCase()}return t},h.format.named=function(t){if(t=t.toLowerCase(),Ue[t])return bt(Ue[t]);throw new Error("unknown color name: "+t)},h.autodetect.push({p:5,test:function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];if(!e.length&&"string"===De(t)&&Ue[t.toLowerCase()])return"named"}});var Ee=c.unpack,Be=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=Ee(t,"rgb"),r=n[0],i=n[1],o=n[2];return(r<<16)+(i<<8)+o},qe=Be,Ge=c.type,ze=function(t){if("number"==Ge(t)&&t>=0&&t<=16777215){var e=t>>16,n=t>>8&255,r=255&t;return[e,n,r,1]}throw new Error("unknown num color: "+t)},$e=ze,Ze=c.type;g.prototype.num=function(){return qe(this._rgb)},v.num=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["num"])))},h.format.num=$e,h.autodetect.push({p:5,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(1===t.length&&"number"===Ze(t[0])&&t[0]>=0&&t[0]<=16777215)return"num"}});var Je=c.unpack,We=c.type,Ye=Math.round;g.prototype.rgb=function(t){return void 0===t&&(t=!0),!1===t?this._rgb.slice(0,3):this._rgb.slice(0,3).map(Ye)},g.prototype.rgba=function(t){return void 0===t&&(t=!0),this._rgb.slice(0,4).map(function(e,n){return n<3?!1===t?e:Ye(e):e})},v.rgb=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["rgb"])))},h.format.rgb=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=Je(t,"rgba");return void 0===n[3]&&(n[3]=1),n},h.autodetect.push({p:3,test:function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(t=Je(t,"rgba"),"array"===We(t)&&(3===t.length||4===t.length&&"number"==We(t[3])&&t[3]>=0&&t[3]<=1))return"rgb"}});var He=Math.log,Ve=function(t){var e,n,r,i=t/100;return i<66?(e=255,n=-155.25485562709179-.44596950469579133*(n=i-2)+104.49216199393888*He(n),r=i<20?0:.8274096064007395*(r=i-10)-254.76935184120902+115.67994401066147*He(r)):(e=351.97690566805693+.114206453784165*(e=i-55)-40.25366309332127*He(e),n=325.4494125711974+.07943456536662342*(n=i-50)-28.0852963507957*He(n),r=255),[e,n,r,1]},Xe=Ve,Qe=c.unpack,Ke=Math.round,tn=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n,r=Qe(t,"rgb"),i=r[0],o=r[2],a=1e3,s=4e4,u=.4;while(s-a>u){n=.5*(s+a);var l=Xe(n);l[2]/l[0]>=o/i?s=n:a=n}return Ke(n)},en=tn;g.prototype.temp=g.prototype.kelvin=g.prototype.temperature=function(){return en(this._rgb)},v.temp=v.kelvin=v.temperature=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return new(Function.prototype.bind.apply(g,[null].concat(t,["temp"])))},h.format.temp=h.format.kelvin=h.format.temperature=Xe;var nn=c.type;g.prototype.alpha=function(t,e){return void 0===e&&(e=!1),void 0!==t&&"number"===nn(t)?e?(this._rgb[3]=t,this):new g([this._rgb[0],this._rgb[1],this._rgb[2],t],"rgb"):this._rgb[3]},g.prototype.clipped=function(){return this._rgb._clipped||!1},g.prototype.darken=function(t){void 0===t&&(t=1);var e=this,n=e.lab();return n[0]-=Vt.Kn*t,new g(n,"lab").alpha(e.alpha(),!0)},g.prototype.brighten=function(t){return void 0===t&&(t=1),this.darken(-t)},g.prototype.darker=g.prototype.darken,g.prototype.brighter=g.prototype.brighten,g.prototype.get=function(t){var e=t.split("."),n=e[0],r=e[1],i=this[n]();if(r){var o=n.indexOf(r);if(o>-1)return i[o];throw new Error("unknown channel "+r+" in mode "+n)}return i};var rn=c.type,on=Math.pow,an=1e-7,sn=20;g.prototype.luminance=function(t){if(void 0!==t&&"number"===rn(t)){if(0===t)return new g([0,0,0,this._rgb[3]],"rgb");if(1===t)return new g([255,255,255,this._rgb[3]],"rgb");var e=this.luminance(),n="rgb",r=sn,i=function(e,o){var a=e.interpolate(o,.5,n),s=a.luminance();return Math.abs(t-s)<an||!r--?a:s>t?i(e,a):i(a,o)},o=(e>t?i(new g([0,0,0]),this):i(this,new g([255,255,255]))).rgb();return new g(o.concat([this._rgb[3]]))}return un.apply(void 0,this._rgb.slice(0,3))};var un=function(t,e,n){return t=ln(t),e=ln(e),n=ln(n),.2126*t+.7152*e+.0722*n},ln=function(t){return t/=255,t<=.03928?t/12.92:on((t+.055)/1.055,2.4)},cn={},hn=c.type,fn=function(t,e,n){void 0===n&&(n=.5);var r=[],i=arguments.length-3;while(i-- >0)r[i]=arguments[i+3];var o=r[0]||"lrgb";if(cn[o]||r.length||(o=Object.keys(cn)[0]),!cn[o])throw new Error("interpolation mode "+o+" is not defined");return"object"!==hn(t)&&(t=new g(t)),"object"!==hn(e)&&(e=new g(e)),cn[o](t,e,n).alpha(t.alpha()+n*(e.alpha()-t.alpha()))};g.prototype.mix=g.prototype.interpolate=function(t,e){void 0===e&&(e=.5);var n=[],r=arguments.length-2;while(r-- >0)n[r]=arguments[r+2];return fn.apply(void 0,[this,t,e].concat(n))},g.prototype.premultiply=function(t){void 0===t&&(t=!1);var e=this._rgb,n=e[3];return t?(this._rgb=[e[0]*n,e[1]*n,e[2]*n,n],this):new g([e[0]*n,e[1]*n,e[2]*n,n],"rgb")},g.prototype.saturate=function(t){void 0===t&&(t=1);var e=this,n=e.lch();return n[1]+=Vt.Kn*t,n[1]<0&&(n[1]=0),new g(n,"lch").alpha(e.alpha(),!0)},g.prototype.desaturate=function(t){return void 0===t&&(t=1),this.saturate(-t)};var pn=c.type;g.prototype.set=function(t,e,n){void 0===n&&(n=!1);var r=t.split("."),i=r[0],o=r[1],a=this[i]();if(o){var s=i.indexOf(o);if(s>-1){if("string"==pn(e))switch(e.charAt(0)){case"+":a[s]+=+e;break;case"-":a[s]+=+e;break;case"*":a[s]*=+e.substr(1);break;case"/":a[s]/=+e.substr(1);break;default:a[s]=+e}else{if("number"!==pn(e))throw new Error("unsupported value for Color.set");a[s]=e}var u=new g(a,i);return n?(this._rgb=u._rgb,this):u}throw new Error("unknown channel "+o+" in mode "+i)}return a};var dn=function(t,e,n){var r=t._rgb,i=e._rgb;return new g(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"rgb")};cn.rgb=dn;var mn=Math.sqrt,gn=Math.pow,yn=function(t,e,n){var r=t._rgb,i=r[0],o=r[1],a=r[2],s=e._rgb,u=s[0],l=s[1],c=s[2];return new g(mn(gn(i,2)*(1-n)+gn(u,2)*n),mn(gn(o,2)*(1-n)+gn(l,2)*n),mn(gn(a,2)*(1-n)+gn(c,2)*n),"rgb")};cn.lrgb=yn;var vn=function(t,e,n){var r=t.lab(),i=e.lab();return new g(r[0]+n*(i[0]-r[0]),r[1]+n*(i[1]-r[1]),r[2]+n*(i[2]-r[2]),"lab")};cn.lab=vn;var bn=function(t,e,n,r){var i,o,a,s,u,l,c,h,f,p,d,m,y,v;return"hsl"===r?(a=t.hsl(),s=e.hsl()):"hsv"===r?(a=t.hsv(),s=e.hsv()):"hcg"===r?(a=t.hcg(),s=e.hcg()):"hsi"===r?(a=t.hsi(),s=e.hsi()):"lch"!==r&&"hcl"!==r||(r="hcl",a=t.hcl(),s=e.hcl()),"h"===r.substr(0,1)&&(i=a,u=i[0],c=i[1],f=i[2],o=s,l=o[0],h=o[1],p=o[2]),isNaN(u)||isNaN(l)?isNaN(u)?isNaN(l)?m=Number.NaN:(m=l,1!=f&&0!=f||"hsv"==r||(d=h)):(m=u,1!=p&&0!=p||"hsv"==r||(d=c)):(v=l>u&&l-u>180?l-(u+360):l<u&&u-l>180?l+360-u:l-u,m=u+n*v),void 0===d&&(d=c+n*(h-c)),y=f+n*(p-f),new g([m,d,y],r)},_n=function(t,e,n){return bn(t,e,n,"lch")};cn.lch=_n,cn.hcl=_n;var wn=function(t,e,n){var r=t.num(),i=e.num();return new g(r+n*(i-r),"num")};cn.num=wn;var xn=function(t,e,n){return bn(t,e,n,"hcg")};cn.hcg=xn;var Mn=function(t,e,n){return bn(t,e,n,"hsi")};cn.hsi=Mn;var On=function(t,e,n){return bn(t,e,n,"hsl")};cn.hsl=On;var Ln=function(t,e,n){return bn(t,e,n,"hsv")};cn.hsv=Ln;var Sn=c.clip_rgb,Tn=Math.pow,Cn=Math.sqrt,kn=Math.PI,An=Math.cos,jn=Math.sin,In=Math.atan2,Nn=function(t,e){void 0===e&&(e="lrgb");var n=t.length;if(t=t.map(function(t){return new g(t)}),"lrgb"===e)return Pn(t);for(var r=t.shift(),i=r.get(e),o=[],a=0,s=0,u=0;u<i.length;u++)if(i[u]=i[u]||0,o.push(isNaN(i[u])?0:1),"h"===e.charAt(u)&&!isNaN(i[u])){var l=i[u]/180*kn;a+=An(l),s+=jn(l)}var c=r.alpha();t.forEach(function(t){var n=t.get(e);c+=t.alpha();for(var r=0;r<i.length;r++)if(!isNaN(n[r]))if(o[r]++,"h"===e.charAt(r)){var u=n[r]/180*kn;a+=An(u),s+=jn(u)}else i[r]+=n[r]});for(var h=0;h<i.length;h++)if("h"===e.charAt(h)){var f=In(s/o[h],a/o[h])/kn*180;while(f<0)f+=360;while(f>=360)f-=360;i[h]=f}else i[h]=i[h]/o[h];return c/=n,new g(i,e).alpha(c>.99999?1:c,!0)},Pn=function(t){for(var e=t.length,n=1/e,r=[0,0,0,0],i=0,o=t;i<o.length;i+=1){var a=o[i],s=a._rgb;r[0]+=Tn(s[0],2)*n,r[1]+=Tn(s[1],2)*n,r[2]+=Tn(s[2],2)*n,r[3]+=s[3]*n}return r[0]=Cn(r[0]),r[1]=Cn(r[1]),r[2]=Cn(r[2]),r[3]>.9999999&&(r[3]=1),new g(Sn(r))},Fn=c.type,Rn=Math.pow,Un=function(t){var e="rgb",n=v("#ccc"),r=0,i=[0,1],o=[],a=[0,0],s=!1,u=[],l=!1,c=0,h=1,f=!1,p={},d=!0,m=1,g=function(t){if(t=t||["#fff","#000"],t&&"string"===Fn(t)&&v.brewer&&v.brewer[t.toLowerCase()]&&(t=v.brewer[t.toLowerCase()]),"array"===Fn(t)){1===t.length&&(t=[t[0],t[0]]),t=t.slice(0);for(var e=0;e<t.length;e++)t[e]=v(t[e]);o.length=0;for(var n=0;n<t.length;n++)o.push(n/(t.length-1))}return w(),u=t},y=function(t){if(null!=s){var e=s.length-1,n=0;while(n<e&&t>=s[n])n++;return n-1}return 0},b=function(t){return t},_=function(t,r){var i,l;if(null==r&&(r=!1),isNaN(t)||null===t)return n;if(r)l=t;else if(s&&s.length>2){var f=y(t);l=f/(s.length-2)}else l=h!==c?(t-c)/(h-c):1;r||(l=b(l)),1!==m&&(l=Rn(l,m)),l=a[0]+l*(1-a[0]-a[1]),l=Math.min(1,Math.max(0,l));var g=Math.floor(1e4*l);if(d&&p[g])i=p[g];else{if("array"===Fn(u))for(var _=0;_<o.length;_++){var w=o[_];if(l<=w){i=u[_];break}if(l>=w&&_===o.length-1){i=u[_];break}if(l>w&&l<o[_+1]){l=(l-w)/(o[_+1]-w),i=v.interpolate(u[_],u[_+1],l,e);break}}else"function"===Fn(u)&&(i=u(l));d&&(p[g]=i)}return i},w=function(){return p={}};g(t);var x=function(t){var e=v(_(t));return l&&e[l]?e[l]():e};return x.classes=function(t){if(null!=t){if("array"===Fn(t))s=t,i=[t[0],t[t.length-1]];else{var e=v.analyze(i);s=0===t?[e.min,e.max]:v.limits(e,"e",t)}return x}return s},x.domain=function(t){if(!arguments.length)return i;c=t[0],h=t[t.length-1],o=[];var e=u.length;if(t.length===e&&c!==h)for(var n=0,r=Array.from(t);n<r.length;n+=1){var a=r[n];o.push((a-c)/(h-c))}else for(var s=0;s<e;s++)o.push(s/(e-1));return i=[c,h],x},x.mode=function(t){return arguments.length?(e=t,w(),x):e},x.range=function(t,e){return g(t,e),x},x.out=function(t){return l=t,x},x.spread=function(t){return arguments.length?(r=t,x):r},x.correctLightness=function(t){return null==t&&(t=!0),f=t,w(),b=f?function(t){var e=_(0,!0).lab()[0],n=_(1,!0).lab()[0],r=e>n,i=_(t,!0).lab()[0],o=e+(n-e)*t,a=i-o,s=0,u=1,l=20;while(Math.abs(a)>.01&&l-- >0)(function(){r&&(a*=-1),a<0?(s=t,t+=.5*(u-t)):(u=t,t+=.5*(s-t)),i=_(t,!0).lab()[0],a=i-o})();return t}:function(t){return t},x},x.padding=function(t){return null!=t?("number"===Fn(t)&&(t=[t,t]),a=t,x):a},x.colors=function(e,n){arguments.length<2&&(n="hex");var r=[];if(0===arguments.length)r=u.slice(0);else if(1===e)r=[x(.5)];else if(e>1){var o=i[0],a=i[1]-o;r=Dn(0,e,!1).map(function(t){return x(o+t/(e-1)*a)})}else{t=[];var l=[];if(s&&s.length>2)for(var c=1,h=s.length,f=1<=h;f?c<h:c>h;f?c++:c--)l.push(.5*(s[c-1]+s[c]));else l=i;r=l.map(function(t){return x(t)})}return v[n]&&(r=r.map(function(t){return t[n]()})),r},x.cache=function(t){return null!=t?(d=t,x):d},x.gamma=function(t){return null!=t?(m=t,x):m},x.nodata=function(t){return null!=t?(n=v(t),x):n},x};function Dn(t,e,n){for(var r=[],i=t<e,o=n?i?e+1:e-1:e,a=t;i?a<o:a>o;i?a++:a--)r.push(a);return r}var En=function(t){var e,n,r,i,o,a,s;if(t=t.map(function(t){return new g(t)}),2===t.length)e=t.map(function(t){return t.lab()}),o=e[0],a=e[1],i=function(t){var e=[0,1,2].map(function(e){return o[e]+t*(a[e]-o[e])});return new g(e,"lab")};else if(3===t.length)n=t.map(function(t){return t.lab()}),o=n[0],a=n[1],s=n[2],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*o[e]+2*(1-t)*t*a[e]+t*t*s[e]});return new g(e,"lab")};else if(4===t.length){var u;r=t.map(function(t){return t.lab()}),o=r[0],a=r[1],s=r[2],u=r[3],i=function(t){var e=[0,1,2].map(function(e){return(1-t)*(1-t)*(1-t)*o[e]+3*(1-t)*(1-t)*t*a[e]+3*(1-t)*t*t*s[e]+t*t*t*u[e]});return new g(e,"lab")}}else if(5===t.length){var l=En(t.slice(0,3)),c=En(t.slice(2,5));i=function(t){return t<.5?l(2*t):c(2*(t-.5))}}return i},Bn=function(t){var e=En(t);return e.scale=function(){return Un(e)},e},qn=function(t,e,n){if(!qn[n])throw new Error("unknown blend mode "+n);return qn[n](t,e)},Gn=function(t){return function(e,n){var r=v(n).rgb(),i=v(e).rgb();return v.rgb(t(r,i))}},zn=function(t){return function(e,n){var r=[];return r[0]=t(e[0],n[0]),r[1]=t(e[1],n[1]),r[2]=t(e[2],n[2]),r}},$n=function(t){return t},Zn=function(t,e){return t*e/255},Jn=function(t,e){return t>e?e:t},Wn=function(t,e){return t>e?t:e},Yn=function(t,e){return 255*(1-(1-t/255)*(1-e/255))},Hn=function(t,e){return e<128?2*t*e/255:255*(1-2*(1-t/255)*(1-e/255))},Vn=function(t,e){return 255*(1-(1-e/255)/(t/255))},Xn=function(t,e){return 255===t?255:(t=e/255*255/(1-t/255),t>255?255:t)};qn.normal=Gn(zn($n)),qn.multiply=Gn(zn(Zn)),qn.screen=Gn(zn(Yn)),qn.overlay=Gn(zn(Hn)),qn.darken=Gn(zn(Jn)),qn.lighten=Gn(zn(Wn)),qn.dodge=Gn(zn(Xn)),qn.burn=Gn(zn(Vn));for(var Qn=qn,Kn=c.type,tr=c.clip_rgb,er=c.TWOPI,nr=Math.pow,rr=Math.sin,ir=Math.cos,or=function(t,e,n,r,i){void 0===t&&(t=300),void 0===e&&(e=-1.5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=[0,1]);var o,a=0;"array"===Kn(i)?o=i[1]-i[0]:(o=0,i=[i,i]);var s=function(s){var u=er*((t+120)/360+e*s),l=nr(i[0]+o*s,r),c=0!==a?n[0]+s*a:n,h=c*l*(1-l)/2,f=ir(u),p=rr(u),d=l+h*(-.14861*f+1.78277*p),m=l+h*(-.29227*f-.90649*p),g=l+h*(1.97294*f);return v(tr([255*d,255*m,255*g,1]))};return s.start=function(e){return null==e?t:(t=e,s)},s.rotations=function(t){return null==t?e:(e=t,s)},s.gamma=function(t){return null==t?r:(r=t,s)},s.hue=function(t){return null==t?n:(n=t,"array"===Kn(n)?(a=n[1]-n[0],0===a&&(n=n[1])):a=0,s)},s.lightness=function(t){return null==t?i:("array"===Kn(t)?(i=t,o=t[1]-t[0]):(i=[t,t],o=0),s)},s.scale=function(){return v.scale(s)},s.hue(n),s},ar="0123456789abcdef",sr=Math.floor,ur=Math.random,lr=function(){for(var t="#",e=0;e<6;e++)t+=ar.charAt(sr(16*ur()));return new g(t,"hex")},cr=Math.log,hr=Math.pow,fr=Math.floor,pr=Math.abs,dr=function(t,e){void 0===e&&(e=null);var n={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0};return"object"===a(t)&&(t=Object.values(t)),t.forEach(function(t){e&&"object"===a(t)&&(t=t[e]),void 0===t||null===t||isNaN(t)||(n.values.push(t),n.sum+=t,t<n.min&&(n.min=t),t>n.max&&(n.max=t),n.count+=1)}),n.domain=[n.min,n.max],n.limits=function(t,e){return mr(n,t,e)},n},mr=function(t,e,n){void 0===e&&(e="equal"),void 0===n&&(n=7),"array"==a(t)&&(t=dr(t));var r=t.min,i=t.max,o=t.values.sort(function(t,e){return t-e});if(1===n)return[r,i];var s=[];if("c"===e.substr(0,1)&&(s.push(r),s.push(i)),"e"===e.substr(0,1)){s.push(r);for(var u=1;u<n;u++)s.push(r+u/n*(i-r));s.push(i)}else if("l"===e.substr(0,1)){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");var l=Math.LOG10E*cr(r),c=Math.LOG10E*cr(i);s.push(r);for(var h=1;h<n;h++)s.push(hr(10,l+h/n*(c-l)));s.push(i)}else if("q"===e.substr(0,1)){s.push(r);for(var f=1;f<n;f++){var p=(o.length-1)*f/n,d=fr(p);if(d===p)s.push(o[d]);else{var m=p-d;s.push(o[d]*(1-m)+o[d+1]*m)}}s.push(i)}else if("k"===e.substr(0,1)){var g,y=o.length,v=new Array(y),b=new Array(n),_=!0,w=0,x=null;x=[],x.push(r);for(var M=1;M<n;M++)x.push(r+M/n*(i-r));x.push(i);while(_){for(var O=0;O<n;O++)b[O]=0;for(var L=0;L<y;L++)for(var S=o[L],T=Number.MAX_VALUE,C=void 0,k=0;k<n;k++){var A=pr(x[k]-S);A<T&&(T=A,C=k),b[C]++,v[L]=C}for(var j=new Array(n),I=0;I<n;I++)j[I]=null;for(var N=0;N<y;N++)g=v[N],null===j[g]?j[g]=o[N]:j[g]+=o[N];for(var P=0;P<n;P++)j[P]*=1/b[P];_=!1;for(var F=0;F<n;F++)if(j[F]!==x[F]){_=!0;break}x=j,w++,w>200&&(_=!1)}for(var R={},U=0;U<n;U++)R[U]=[];for(var D=0;D<y;D++)g=v[D],R[g].push(o[D]);for(var E=[],B=0;B<n;B++)E.push(R[B][0]),E.push(R[B][R[B].length-1]);E=E.sort(function(t,e){return t-e}),s.push(E[0]);for(var q=1;q<E.length;q+=2){var G=E[q];isNaN(G)||-1!==s.indexOf(G)||s.push(G)}}return s},gr={analyze:dr,limits:mr},yr=function(t,e){t=new g(t),e=new g(e);var n=t.luminance(),r=e.luminance();return n>r?(n+.05)/(r+.05):(r+.05)/(n+.05)},vr=Math.sqrt,br=Math.atan2,_r=Math.abs,wr=Math.cos,xr=Math.PI,Mr=function(t,e,n,r){void 0===n&&(n=1),void 0===r&&(r=1),t=new g(t),e=new g(e);var i=Array.from(t.lab()),o=i[0],a=i[1],s=i[2],u=Array.from(e.lab()),l=u[0],c=u[1],h=u[2],f=vr(a*a+s*s),p=vr(c*c+h*h),d=o<16?.511:.040975*o/(1+.01765*o),m=.0638*f/(1+.0131*f)+.638,y=f<1e-6?0:180*br(s,a)/xr;while(y<0)y+=360;while(y>=360)y-=360;var v=y>=164&&y<=345?.56+_r(.2*wr(xr*(y+168)/180)):.36+_r(.4*wr(xr*(y+35)/180)),b=f*f*f*f,_=vr(b/(b+1900)),w=m*(_*v+1-_),x=o-l,M=f-p,O=a-c,L=s-h,S=O*O+L*L-M*M,T=x/(n*d),C=M/(r*m),k=w;return vr(T*T+C*C+S/(k*k))},Or=function(t,e,n){void 0===n&&(n="lab"),t=new g(t),e=new g(e);var r=t.get(n),i=e.get(n),o=0;for(var a in r){var s=(r[a]||0)-(i[a]||0);o+=s*s}return Math.sqrt(o)},Lr=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];try{return new(Function.prototype.bind.apply(g,[null].concat(t))),!0}catch(n){return!1}},Sr={cool:function(){return Un([v.hsl(180,1,.9),v.hsl(250,.7,.4)])},hot:function(){return Un(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")}},Tr={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Cr=0,kr=Object.keys(Tr);Cr<kr.length;Cr+=1){var Ar=kr[Cr];Tr[Ar.toLowerCase()]=Tr[Ar]}var jr=Tr;v.average=Nn,v.bezier=Bn,v.blend=Qn,v.cubehelix=or,v.mix=v.interpolate=fn,v.random=lr,v.scale=Un,v.analyze=gr.analyze,v.contrast=yr,v.deltaE=Mr,v.distance=Or,v.limits=gr.limits,v.valid=Lr,v.scales=Sr,v.colors=Ue,v.brewer=jr;var Ir=v;return Ir})},6808:function(t){t.exports={a:"2.2.4"}},"7f7f":function(t,e,n){var r=n("86cc").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in i||n("9e1e")&&r(i,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},ce24:function(t,e,n){"use strict";n.r(e);var r=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},i=function(t){return 1===t.length&&(t=o(t)),{left:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){null==r&&(r=0),null==i&&(i=e.length);while(r<i){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};function o(t){return function(e,n){return r(t(e),n)}}var a=i(r),s=a.right,u=(a.left,s);var l=Array.prototype,c=(l.slice,l.map,function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);while(++r<i)o[r]=t+r*n;return o}),h=Math.sqrt(50),f=Math.sqrt(10),p=Math.sqrt(2),d=function(t,e,n){var r,i,o,a,s=-1;if(e=+e,t=+t,n=+n,t===e&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=m(t,e,n))||!isFinite(a))return[];if(a>0){t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));while(++s<i)o[s]=(t+s)*a}else{t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));while(++s<i)o[s]=(t-s)/a}return r&&o.reverse(),o};function m(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=h?10:o>=f?5:o>=p?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=h?10:o>=f?5:o>=p?2:1)}function g(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=h?i*=10:o>=f?i*=5:o>=p&&(i*=2),e<t?-i:i}var y=function(t){return null===t?NaN:+t};function v(t,e,n=y){if(r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function b(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function _(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t);break}return this}const w=Symbol("implicit");function x(){var t=new Map,e=[],n=[],r=w;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==w)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new Map;for(const r of n){const n=r+"";t.has(n)||t.set(n,e.push(r))}return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return x(e,n).unknown(r)},b.apply(i,arguments),i}function M(){var t,e,n=x().unknown(void 0),r=n.domain,i=n.range,o=0,a=1,s=!1,u=0,l=0,h=.5;function f(){var n=r().length,f=a<o,p=f?a:o,d=f?o:a;t=(d-p)/Math.max(1,n-u+2*l),s&&(t=Math.floor(t)),p+=(d-p-t*(n-u))*h,e=t*(1-u),s&&(p=Math.round(p),e=Math.round(e));var m=c(n).map(function(e){return p+t*e});return i(f?m.reverse():m)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),f()):r()},n.range=function(t){return arguments.length?([o,a]=t,o=+o,a=+a,f()):[o,a]},n.rangeRound=function(t){return[o,a]=t,o=+o,a=+a,s=!0,f()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,f()):s},n.padding=function(t){return arguments.length?(u=Math.min(1,l=+t),f()):u},n.paddingInner=function(t){return arguments.length?(u=Math.min(1,t),f()):u},n.paddingOuter=function(t){return arguments.length?(l=+t,f()):l},n.align=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),f()):h},n.copy=function(){return M(r(),[o,a]).round(s).paddingInner(u).paddingOuter(l).align(h)},b.apply(f(),arguments)}function O(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return O(e())},t}function L(){return O(M.apply(null,arguments).paddingInner(1))}var S=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function T(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function C(){}var k=.7,A=1/k,j="\\s*([+-]?\\d+)\\s*",I="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",N="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P=/^#([0-9a-f]{3})$/,F=/^#([0-9a-f]{6})$/,R=new RegExp("^rgb\\("+[j,j,j]+"\\)$"),U=new RegExp("^rgb\\("+[N,N,N]+"\\)$"),D=new RegExp("^rgba\\("+[j,j,j,I]+"\\)$"),E=new RegExp("^rgba\\("+[N,N,N,I]+"\\)$"),B=new RegExp("^hsl\\("+[I,N,N]+"\\)$"),q=new RegExp("^hsla\\("+[I,N,N,I]+"\\)$"),G={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function z(t){var e;return t=(t+"").trim().toLowerCase(),(e=P.exec(t))?(e=parseInt(e[1],16),new Y(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=F.exec(t))?$(parseInt(e[1],16)):(e=R.exec(t))?new Y(e[1],e[2],e[3],1):(e=U.exec(t))?new Y(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=D.exec(t))?Z(e[1],e[2],e[3],e[4]):(e=E.exec(t))?Z(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=B.exec(t))?V(e[1],e[2]/100,e[3]/100,1):(e=q.exec(t))?V(e[1],e[2]/100,e[3]/100,e[4]):G.hasOwnProperty(t)?$(G[t]):"transparent"===t?new Y(NaN,NaN,NaN,0):null}function $(t){return new Y(t>>16&255,t>>8&255,255&t,1)}function Z(t,e,n,r){return r<=0&&(t=e=n=NaN),new Y(t,e,n,r)}function J(t){return t instanceof C||(t=z(t)),t?(t=t.rgb(),new Y(t.r,t.g,t.b,t.opacity)):new Y}function W(t,e,n,r){return 1===arguments.length?J(t):new Y(t,e,n,null==r?1:r)}function Y(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function H(t){return t=Math.max(0,Math.min(255,Math.round(t)||0)),(t<16?"0":"")+t.toString(16)}function V(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new K(t,e,n,r)}function X(t){if(t instanceof K)return new K(t.h,t.s,t.l,t.opacity);if(t instanceof C||(t=z(t)),!t)return new K;if(t instanceof K)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new K(a,s,u,t.opacity)}function Q(t,e,n,r){return 1===arguments.length?X(t):new K(t,e,n,null==r?1:r)}function K(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function tt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}S(C,z,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),S(Y,W,T(C,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new Y(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+H(this.r)+H(this.g)+H(this.b)},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),S(K,Q,T(C,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new K(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new K(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Y(tt(t>=240?t-240:t+120,i,r),tt(t,i,r),tt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var et=Math.PI/180,nt=180/Math.PI,rt=18,it=.96422,ot=1,at=.82521,st=4/29,ut=6/29,lt=3*ut*ut,ct=ut*ut*ut;function ht(t){if(t instanceof pt)return new pt(t.l,t.a,t.b,t.opacity);if(t instanceof _t)return wt(t);t instanceof Y||(t=J(t));var e,n,r=yt(t.r),i=yt(t.g),o=yt(t.b),a=dt((.2225045*r+.7168786*i+.0606169*o)/ot);return r===i&&i===o?e=n=a:(e=dt((.4360747*r+.3850649*i+.1430804*o)/it),n=dt((.0139322*r+.0971045*i+.7141733*o)/at)),new pt(116*a-16,500*(e-a),200*(a-n),t.opacity)}function ft(t,e,n,r){return 1===arguments.length?ht(t):new pt(t,e,n,null==r?1:r)}function pt(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function dt(t){return t>ct?Math.pow(t,1/3):t/lt+st}function mt(t){return t>ut?t*t*t:lt*(t-st)}function gt(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function yt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function vt(t){if(t instanceof _t)return new _t(t.h,t.c,t.l,t.opacity);if(t instanceof pt||(t=ht(t)),0===t.a&&0===t.b)return new _t(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*nt;return new _t(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function bt(t,e,n,r){return 1===arguments.length?vt(t):new _t(t,e,n,null==r?1:r)}function _t(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function wt(t){if(isNaN(t.h))return new pt(t.l,0,0,t.opacity);var e=t.h*et;return new pt(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}S(pt,ft,T(C,{brighter:function(t){return new pt(this.l+rt*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new pt(this.l-rt*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=it*mt(e),t=ot*mt(t),n=at*mt(n),new Y(gt(3.1338561*e-1.6168667*t-.4906146*n),gt(-.9787684*e+1.9161415*t+.033454*n),gt(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),S(_t,bt,T(C,{brighter:function(t){return new _t(this.h,this.c,this.l+rt*(null==t?1:t),this.opacity)},darker:function(t){return new _t(this.h,this.c,this.l-rt*(null==t?1:t),this.opacity)},rgb:function(){return wt(this).rgb()}}));var xt=-.14861,Mt=1.78277,Ot=-.29227,Lt=-.90649,St=1.97294,Tt=St*Lt,Ct=St*Mt,kt=Mt*Ot-Lt*xt;function At(t){if(t instanceof It)return new It(t.h,t.s,t.l,t.opacity);t instanceof Y||(t=J(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(kt*r+Tt*e-Ct*n)/(kt+Tt-Ct),o=r-i,a=(St*(n-i)-Ot*o)/Lt,s=Math.sqrt(a*a+o*o)/(St*i*(1-i)),u=s?Math.atan2(a,o)*nt-120:NaN;return new It(u<0?u+360:u,s,i,t.opacity)}function jt(t,e,n,r){return 1===arguments.length?At(t):new It(t,e,n,null==r?1:r)}function It(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Nt(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}S(It,jt,T(C,{brighter:function(t){return t=null==t?A:Math.pow(A,t),new It(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?k:Math.pow(k,t),new It(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*et,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Y(255*(e+n*(xt*r+Mt*i)),255*(e+n*(Ot*r+Lt*i)),255*(e+n*(St*r)),this.opacity)}}));var Pt=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Nt((n-r/e)*e,a,i,o,s)}},Ft=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Nt((n-r/e)*e,i,o,a,s)}},Rt=function(t){return function(){return t}};function Ut(t,e){return function(n){return t+n*e}}function Dt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Et(t,e){var n=e-t;return n?Ut(t,n>180||n<-180?n-360*Math.round(n/360):n):Rt(isNaN(t)?e:t)}function Bt(t){return 1===(t=+t)?qt:function(e,n){return n-e?Dt(e,n,t):Rt(isNaN(e)?n:e)}}function qt(t,e){var n=e-t;return n?Ut(t,n):Rt(isNaN(t)?e:t)}var Gt=function t(e){var n=Bt(e);function r(t,e){var r=n((t=W(t)).r,(e=W(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=qt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function zt(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=W(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}zt(Pt),zt(Ft);var $t=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=re(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},Zt=function(t,e){var n=new Date;return t=+t,e-=t,function(r){return n.setTime(t+e*r),n}},Jt=function(t,e){return t=+t,e-=t,function(n){return t+e*n}},Wt=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=re(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},Yt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ht=new RegExp(Yt.source,"g");function Vt(t){return function(){return t}}function Xt(t){return function(e){return t(e)+""}}var Qt,Kt,te,ee,ne=function(t,e){var n,r,i,o=Yt.lastIndex=Ht.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=Yt.exec(t))&&(r=Ht.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Jt(n,r)})),o=Ht.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?Xt(u[0].x):Vt(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},re=function(t,e){var n,r=typeof e;return null==e||"boolean"===r?Rt(e):("number"===r?Jt:"string"===r?(n=z(e))?(e=n,Gt):ne:e instanceof z?Gt:e instanceof Date?Zt:Array.isArray(e)?$t:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?Wt:Jt)(t,e)},ie=function(t,e){return t=+t,e-=t,function(n){return Math.round(t+e*n)}},oe=180/Math.PI,ae={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},se=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*oe,skewX:Math.atan(u)*oe,scaleX:a,scaleY:s}};function ue(t){return"none"===t?ae:(Qt||(Qt=document.createElement("DIV"),Kt=document.documentElement,te=document.defaultView),Qt.style.transform=t,t=te.getComputedStyle(Kt.appendChild(Qt),null).getPropertyValue("transform"),Kt.removeChild(Qt),t=t.slice(7,-1).split(","),se(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}function le(t){return null==t?ae:(ee||(ee=document.createElementNS("http://www.w3.org/2000/svg","g")),ee.setAttribute("transform",t),(t=ee.transform.baseVal.consolidate())?(t=t.matrix,se(t.a,t.b,t.c,t.d,t.e,t.f)):ae)}function ce(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Jt(t,i)},{i:u-2,x:Jt(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Jt(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Jt(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Jt(t,n)},{i:s-2,x:Jt(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,o=i.length;while(++n<o)r[(e=i[n]).i]=e.x(t);return r.join("")}}}ce(ue,"px, ","px)","deg)"),ce(le,", ",")",")"),Math.SQRT2;function he(t){return function(e,n){var r=t((e=Q(e)).h,(n=Q(n)).h),i=qt(e.s,n.s),o=qt(e.l,n.l),a=qt(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}he(Et),he(qt);function fe(t){return function(e,n){var r=t((e=bt(e)).h,(n=bt(n)).h),i=qt(e.c,n.c),o=qt(e.l,n.l),a=qt(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}fe(Et),fe(qt);function pe(t){return function e(n){function r(e,r){var i=t((e=jt(e)).h,(r=jt(r)).h),o=qt(e.s,r.s),a=qt(e.l,r.l),s=qt(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}pe(Et),pe(qt);var de=function(t){return function(){return t}},me=function(t){return+t},ge=[0,1];function ye(t){return t}function ve(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:de(isNaN(e)?NaN:.5)}function be(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function _e(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=ve(i,r),o=n(a,o)):(r=ve(r,i),o=n(o,a)),function(t){return o(r(t))}}function we(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());while(++a<r)i[a]=ve(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=u(t,e,1,r)-1;return o[n](i[n](e))}}function xe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Me(){var t,e,n,r,i,o,a=ge,s=ge,u=re,l=ye;function c(){return r=Math.min(a.length,s.length)>2?we:_e,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),Jt)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,me),l===ye||(l=be(a)),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=ie,c()},h.clamp=function(t){return arguments.length?(l=t?be(a):ye,h):l!==ye},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function Oe(t,e){return Me()(t,e)}var Le=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},Se=function(t){return t=Le(Math.abs(t)),t?t[1]:NaN},Te=function(t,e){return function(n,r){var i=n.length,o=[],a=0,s=t[0],u=0;while(i>0&&s>0){if(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),(u+=s+1)>r)break;s=t[a=(a+1)%t.length]}return o.reverse().join(e)}},Ce=function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}},ke=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ae(t){return new je(t)}function je(t){if(!(e=ke.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}Ae.prototype=je.prototype,je.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ie,Ne,Pe,Fe,Re=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}break}return i>0?t.slice(0,i)+t.slice(e+1):t},Ue=function(t,e){var n=Le(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ie=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Le(t,Math.max(0,e+o-1))[0]},De=function(t,e){var n=Le(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Ee={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return De(100*t,e)},r:De,s:Ue,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Be=function(t){return t},qe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Ge=function(t){var e=t.grouping&&t.thousands?Te(t.grouping,t.thousands):Be,n=t.currency,r=t.decimal,i=t.numerals?Ce(t.numerals):Be,o=t.percent||"%";function a(t){t=Ae(t);var a=t.fill,s=t.align,u=t.sign,l=t.symbol,c=t.zero,h=t.width,f=t.comma,p=t.precision,d=t.trim,m=t.type;"n"===m?(f=!0,m="g"):Ee[m]||(null==p&&(p=12),d=!0,m="g"),(c||"0"===a&&"="===s)&&(c=!0,a="0",s="=");var g="$"===l?n[0]:"#"===l&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",y="$"===l?n[1]:/[%p]/.test(m)?o:"",v=Ee[m],b=/[defgprs%]/.test(m);function _(t){var n,o,l,_=g,w=y;if("c"===m)w=v(t)+w,t="";else{t=+t;var x=t<0;if(t=v(Math.abs(t),p),d&&(t=Re(t)),x&&0===+t&&(x=!1),_=(x?"("===u?u:"-":"-"===u||"("===u?"":u)+_,w=("s"===m?qe[8+Ie/3]:"")+w+(x&&"("===u?")":""),b){n=-1,o=t.length;while(++n<o)if(l=t.charCodeAt(n),48>l||l>57){w=(46===l?r+t.slice(n+1):t.slice(n))+w,t=t.slice(0,n);break}}}f&&!c&&(t=e(t,1/0));var M=_.length+t.length+w.length,O=M<h?new Array(h-M+1).join(a):"";switch(f&&c&&(t=e(O+t,O.length?h-w.length:1/0),O=""),s){case"<":t=_+t+w+O;break;case"=":t=_+O+t+w;break;case"^":t=O.slice(0,M=O.length>>1)+_+t+w+O.slice(M);break;default:t=O+_+t+w;break}return i(t)}return p=null==p?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),_.toString=function(){return t+""},_}function s(t,e){var n=a((t=Ae(t),t.type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Se(e)/3))),i=Math.pow(10,-r),o=qe[8+r/3];return function(t){return n(i*t)+o}}return{format:a,formatPrefix:s}};function ze(t){return Ne=Ge(t),Pe=Ne.format,Fe=Ne.formatPrefix,Ne}ze({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var $e=function(t){return Math.max(0,-Se(Math.abs(t)))},Ze=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Se(e)/3)))-Se(Math.abs(t)))},Je=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Se(e)-Se(t))+1},We=function(t,e,n,r){var i,o=g(t,e,n);switch(r=Ae(null==r?",f":r),r.type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=Ze(o,a))||(r.precision=i),Fe(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Je(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=$e(o))||(r.precision=i-2*("%"===r.type));break}return Pe(r)};function Ye(t){var e=t.domain;return t.ticks=function(t){var n=e();return d(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return We(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),r=m(s,u,n),r>0?(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,r=m(s,u,n)):r<0&&(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,r=m(s,u,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function He(){var t=Oe(ye,ye);return t.copy=function(){return xe(t,He())},b.apply(t,arguments),Ye(t)}function Ve(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Array.from(e,me),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ve(t).unknown(e)},t=arguments.length?Array.from(t,me):[0,1],Ye(n)}var Xe=function(t,e){t=t.slice();var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function Qe(t){return Math.log(t)}function Ke(t){return Math.exp(t)}function tn(t){return-Math.log(-t)}function en(t){return-Math.exp(-t)}function nn(t){return isFinite(t)?+("1e"+t):t<0?0:t}function rn(t){return 10===t?nn:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}function on(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}function an(t){return function(e){return-t(-e)}}function sn(t){var e,n,r=t(Qe,Ke),i=r.domain,o=10;function a(){return e=on(o),n=rn(o),i()[0]<0?(e=an(e),n=an(n),t(tn,en)):t(Qe,Ke),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(f=s,s=u,u=f);var l,c,h,f=e(s),p=e(u),m=null==t?10:+t,g=[];if(!(o%1)&&p-f<m){if(f=Math.round(f)-1,p=Math.round(p)+1,s>0){for(;f<p;++f)for(c=1,l=n(f);c<o;++c)if(h=l*c,!(h<s)){if(h>u)break;g.push(h)}}else for(;f<p;++f)for(c=o-1,l=n(f);c>=1;--c)if(h=l*c,!(h<s)){if(h>u)break;g.push(h)}}else g=d(f,p,Math.min(p-f,m)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!==typeof i&&(i=Pe(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Xe(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function un(){var t=sn(Me()).domain([1,10]);return t.copy=function(){return xe(t,un()).base(t.base())},b.apply(t,arguments),t}function ln(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function cn(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function hn(t){var e=1,n=t(ln(e),cn(e));return n.constant=function(n){return arguments.length?t(ln(e=+n),cn(e)):e},Ye(n)}function fn(){var t=hn(Me());return t.copy=function(){return xe(t,fn()).constant(t.constant())},b.apply(t,arguments)}function pn(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function dn(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function mn(t){return t<0?-t*t:t*t}function gn(t){var e=t(ye,ye),n=1;function r(){return 1===n?t(ye,ye):.5===n?t(dn,mn):t(pn(n),pn(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Ye(e)}function yn(){var t=gn(Me());return t.copy=function(){return xe(t,yn()).exponent(t.exponent())},b.apply(t,arguments),t}function vn(){return yn.apply(null,arguments).exponent(.5)}function bn(){var t,e=[],n=[],i=[];function o(){var t=0,r=Math.max(1,n.length);i=new Array(r-1);while(++t<r)i[t-1]=v(e,t/r);return a}function a(e){return isNaN(e=+e)?t:n[u(i,e)]}return a.invertExtent=function(t){var r=n.indexOf(t);return r<0?[NaN,NaN]:[r>0?i[r-1]:e[0],r<i.length?i[r]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(r),o()},a.range=function(t){return arguments.length?(n=Array.from(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return i.slice()},a.copy=function(){return bn().domain(e).range(n).unknown(t)},b.apply(a,arguments)}function _n(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[u(i,e,0,r)]:t}function s(){var t=-1;i=new Array(r);while(++t<r)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?([e,n]=t,e=+e,n=+n,s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return _n().domain([e,n]).range(o).unknown(t)},b.apply(Ye(a),arguments)}function wn(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[u(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=Array.from(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=Array.from(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return wn().domain(e).range(n).unknown(t)},b.apply(i,arguments)}var xn=new Date,Mn=new Date;function On(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return On(function(e){if(e>=e)while(t(e),!n(e))e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)while(++r<=0)while(e(t,-1),!n(t));else while(--r>=0)while(e(t,1),!n(t));})},n&&(i.count=function(e,r){return xn.setTime(+e),Mn.setTime(+r),t(xn),t(Mn),Math.floor(n(xn,Mn))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var Ln=On(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Ln.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?On(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Ln:null};var Sn=Ln,Tn=(Ln.range,1e3),Cn=6e4,kn=36e5,An=864e5,jn=6048e5,In=On(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+e*Tn)},function(t,e){return(e-t)/Tn},function(t){return t.getUTCSeconds()}),Nn=In,Pn=(In.range,On(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tn)},function(t,e){t.setTime(+t+e*Cn)},function(t,e){return(e-t)/Cn},function(t){return t.getMinutes()})),Fn=Pn,Rn=(Pn.range,On(function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tn-t.getMinutes()*Cn)},function(t,e){t.setTime(+t+e*kn)},function(t,e){return(e-t)/kn},function(t){return t.getHours()})),Un=Rn,Dn=(Rn.range,On(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cn)/An},function(t){return t.getDate()-1})),En=Dn;Dn.range;function Bn(t){return On(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Cn)/jn})}var qn=Bn(0),Gn=Bn(1),zn=Bn(2),$n=Bn(3),Zn=Bn(4),Jn=Bn(5),Wn=Bn(6),Yn=(qn.range,Gn.range,zn.range,$n.range,Zn.range,Jn.range,Wn.range,On(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()})),Hn=Yn,Vn=(Yn.range,On(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));Vn.every=function(t){return isFinite(t=Math.floor(t))&&t>0?On(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Xn=Vn,Qn=(Vn.range,On(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Cn)},function(t,e){return(e-t)/Cn},function(t){return t.getUTCMinutes()})),Kn=Qn,tr=(Qn.range,On(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*kn)},function(t,e){return(e-t)/kn},function(t){return t.getUTCHours()})),er=tr,nr=(tr.range,On(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/An},function(t){return t.getUTCDate()-1})),rr=nr;nr.range;function ir(t){return On(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/jn})}var or=ir(0),ar=ir(1),sr=ir(2),ur=ir(3),lr=ir(4),cr=ir(5),hr=ir(6),fr=(or.range,ar.range,sr.range,ur.range,lr.range,cr.range,hr.range,On(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),pr=fr,dr=(fr.range,On(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));dr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?On(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var mr=dr;dr.range;function gr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vr(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function br(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=Ar(i),c=jr(i),h=Ar(o),f=jr(o),p=Ar(a),d=jr(a),m=Ar(s),g=jr(s),y=Ar(u),v=jr(u),b={a:N,A:P,b:F,B:R,c:null,d:Xr,e:Xr,f:ni,H:Qr,I:Kr,j:ti,L:ei,m:ri,M:ii,p:U,Q:Ii,s:Ni,S:oi,u:ai,U:si,V:ui,w:li,W:ci,x:null,X:null,y:hi,Y:fi,Z:pi,"%":ji},_={a:D,A:E,b:B,B:q,c:null,d:di,e:di,f:bi,H:mi,I:gi,j:yi,L:vi,m:_i,M:wi,p:G,Q:Ii,s:Ni,S:xi,u:Mi,U:Oi,V:Li,w:Si,W:Ti,x:null,X:null,y:Ci,Y:ki,Z:Ai,"%":ji},w={a:S,A:T,b:C,B:k,c:A,d:qr,e:qr,f:Wr,H:zr,I:zr,j:Gr,L:Jr,m:Br,M:$r,p:L,Q:Hr,s:Vr,S:Zr,u:Nr,U:Pr,V:Fr,w:Ir,W:Rr,x:j,X:I,y:Dr,Y:Ur,Z:Er,"%":Yr};function x(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;n instanceof Date||(n=new Date(+n));while(++s<l)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=Or[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function M(t,e){return function(n){var r,i,o=vr(1900),a=O(o,t,n+="",0);if(a!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=yr(vr(o.y)),i=r.getUTCDay(),r=i>4||0===i?ar.ceil(r):ar(r),r=rr.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(r=e(vr(o.y)),i=r.getDay(),r=i>4||0===i?Gn.ceil(r):Gn(r),r=En.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?yr(vr(o.y)).getUTCDay():e(vr(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,yr(o)):e(o)}}function O(t,e,n,r){var i,o,a=0,s=e.length,u=n.length;while(a<s){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=w[i in Or?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function L(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1}function S(t,e,n){var r=p.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1}function T(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1}function C(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1}function k(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1}function A(t,n,r){return O(t,e,n,r)}function j(t,e,r){return O(t,n,e,r)}function I(t,e,n){return O(t,r,e,n)}function N(t){return a[t.getDay()]}function P(t){return o[t.getDay()]}function F(t){return u[t.getMonth()]}function R(t){return s[t.getMonth()]}function U(t){return i[+(t.getHours()>=12)]}function D(t){return a[t.getUTCDay()]}function E(t){return o[t.getUTCDay()]}function B(t){return u[t.getUTCMonth()]}function q(t){return s[t.getUTCMonth()]}function G(t){return i[+(t.getUTCHours()>=12)]}return b.x=x(n,b),b.X=x(r,b),b.c=x(e,b),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_),{format:function(t){var e=x(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",gr);return e.toString=function(){return t},e},utcFormat:function(t){var e=x(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t,yr);return e.toString=function(){return t},e}}}var _r,wr,xr,Mr,Or={"-":"",_:" ",0:"0"},Lr=/^\s*\d+/,Sr=/^%/,Tr=/[\\^$*+?|[\]().{}]/g;function Cr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function kr(t){return t.replace(Tr,"\\$&")}function Ar(t){return new RegExp("^(?:"+t.map(kr).join("|")+")","i")}function jr(t){var e={},n=-1,r=t.length;while(++n<r)e[t[n].toLowerCase()]=n;return e}function Ir(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Nr(t,e,n){var r=Lr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Pr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Fr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Rr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ur(t,e,n){var r=Lr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Dr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Er(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Br(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Gr(t,e,n){var r=Lr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function zr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function $r(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zr(t,e,n){var r=Lr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Jr(t,e,n){var r=Lr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Wr(t,e,n){var r=Lr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yr(t,e,n){var r=Sr.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Hr(t,e,n){var r=Lr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vr(t,e,n){var r=Lr.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Xr(t,e){return Cr(t.getDate(),e,2)}function Qr(t,e){return Cr(t.getHours(),e,2)}function Kr(t,e){return Cr(t.getHours()%12||12,e,2)}function ti(t,e){return Cr(1+En.count(Xn(t),t),e,3)}function ei(t,e){return Cr(t.getMilliseconds(),e,3)}function ni(t,e){return ei(t,e)+"000"}function ri(t,e){return Cr(t.getMonth()+1,e,2)}function ii(t,e){return Cr(t.getMinutes(),e,2)}function oi(t,e){return Cr(t.getSeconds(),e,2)}function ai(t){var e=t.getDay();return 0===e?7:e}function si(t,e){return Cr(qn.count(Xn(t),t),e,2)}function ui(t,e){var n=t.getDay();return t=n>=4||0===n?Zn(t):Zn.ceil(t),Cr(Zn.count(Xn(t),t)+(4===Xn(t).getDay()),e,2)}function li(t){return t.getDay()}function ci(t,e){return Cr(Gn.count(Xn(t),t),e,2)}function hi(t,e){return Cr(t.getFullYear()%100,e,2)}function fi(t,e){return Cr(t.getFullYear()%1e4,e,4)}function pi(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Cr(e/60|0,"0",2)+Cr(e%60,"0",2)}function di(t,e){return Cr(t.getUTCDate(),e,2)}function mi(t,e){return Cr(t.getUTCHours(),e,2)}function gi(t,e){return Cr(t.getUTCHours()%12||12,e,2)}function yi(t,e){return Cr(1+rr.count(mr(t),t),e,3)}function vi(t,e){return Cr(t.getUTCMilliseconds(),e,3)}function bi(t,e){return vi(t,e)+"000"}function _i(t,e){return Cr(t.getUTCMonth()+1,e,2)}function wi(t,e){return Cr(t.getUTCMinutes(),e,2)}function xi(t,e){return Cr(t.getUTCSeconds(),e,2)}function Mi(t){var e=t.getUTCDay();return 0===e?7:e}function Oi(t,e){return Cr(or.count(mr(t),t),e,2)}function Li(t,e){var n=t.getUTCDay();return t=n>=4||0===n?lr(t):lr.ceil(t),Cr(lr.count(mr(t),t)+(4===mr(t).getUTCDay()),e,2)}function Si(t){return t.getUTCDay()}function Ti(t,e){return Cr(ar.count(mr(t),t),e,2)}function Ci(t,e){return Cr(t.getUTCFullYear()%100,e,2)}function ki(t,e){return Cr(t.getUTCFullYear()%1e4,e,4)}function Ai(){return"+0000"}function ji(){return"%"}function Ii(t){return+t}function Ni(t){return Math.floor(+t/1e3)}function Pi(t){return _r=br(t),wr=_r.format,_r.parse,xr=_r.utcFormat,Mr=_r.utcParse,_r}Pi({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Fi="%Y-%m-%dT%H:%M:%S.%LZ";function Ri(t){return t.toISOString()}Date.prototype.toISOString||xr(Fi);function Ui(t){var e=new Date(t);return isNaN(e)?null:e}+new Date("2000-01-01T00:00:00.000Z")||Mr(Fi);var Di=1e3,Ei=60*Di,Bi=60*Ei,qi=24*Bi,Gi=7*qi,zi=30*qi,$i=365*qi;function Zi(t){return new Date(t)}function Ji(t){return t instanceof Date?+t:+new Date(+t)}function Wi(t,e,n,r,o,a,s,u,l){var c=Oe(ye,ye),h=c.invert,f=c.domain,p=l(".%L"),d=l(":%S"),m=l("%I:%M"),y=l("%I %p"),v=l("%a %d"),b=l("%b %d"),_=l("%B"),w=l("%Y"),x=[[s,1,Di],[s,5,5*Di],[s,15,15*Di],[s,30,30*Di],[a,1,Ei],[a,5,5*Ei],[a,15,15*Ei],[a,30,30*Ei],[o,1,Bi],[o,3,3*Bi],[o,6,6*Bi],[o,12,12*Bi],[r,1,qi],[r,2,2*qi],[n,1,Gi],[e,1,zi],[e,3,3*zi],[t,1,$i]];function M(i){return(s(i)<i?p:a(i)<i?d:o(i)<i?m:r(i)<i?y:e(i)<i?n(i)<i?v:b:t(i)<i?_:w)(i)}function O(e,n,r,o){if(null==e&&(e=10),"number"===typeof e){var a=Math.abs(r-n)/e,s=i(function(t){return t[2]}).right(x,a);s===x.length?(o=g(n/$i,r/$i,e),e=t):s?(s=x[a/x[s-1][2]<x[s][2]/a?s-1:s],o=s[1],e=s[0]):(o=Math.max(g(n,r,e),1),e=u)}return null==o?e:e.every(o)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Array.from(t,Ji)):f().map(Zi)},c.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=O(t,i,o,e),n=n?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?M:l(e)},c.nice=function(t,e){var n=f();return(t=O(t,n[0],n[n.length-1],e))?f(Xe(n,t)):c},c.copy=function(){return xe(c,Wi(t,e,n,r,o,a,s,u,l))},c}var Yi=function(){return b.apply(Wi(Xn,Hn,qn,En,Un,Fn,Nn,Sn,wr).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Hi=function(){return b.apply(Wi(mr,pr,or,rr,er,Kn,Nn,Sn,xr).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function Vi(){var t,e,n,r,i,o=0,a=1,s=ye,u=!1;function l(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return l.domain=function(i){return arguments.length?([o,a]=i,t=r(o=+o),e=r(a=+a),n=t===e?0:1/(e-t),l):[o,a]},l.clamp=function(t){return arguments.length?(u=!!t,l):u},l.interpolator=function(t){return arguments.length?(s=t,l):s},l.unknown=function(t){return arguments.length?(i=t,l):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),l}}function Xi(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qi(){var t=Ye(Vi()(ye));return t.copy=function(){return Xi(t,Qi())},_.apply(t,arguments)}function Ki(){var t=sn(Vi()).domain([1,10]);return t.copy=function(){return Xi(t,Ki()).base(t.base())},_.apply(t,arguments)}function to(){var t=hn(Vi());return t.copy=function(){return Xi(t,to()).constant(t.constant())},_.apply(t,arguments)}function eo(){var t=gn(Vi());return t.copy=function(){return Xi(t,eo()).exponent(t.exponent())},_.apply(t,arguments)}function no(){return eo.apply(null,arguments).exponent(.5)}function ro(){var t=[],e=ye;function n(n){if(!isNaN(n=+n))return e((u(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(r),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return ro(e).domain(t)},_.apply(n,arguments)}function io(){var t,e,n,r,i,o,a,s=0,u=.5,l=1,c=ye,h=!1;function f(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),c(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(a){return arguments.length?([s,u,l]=a,t=o(s=+s),e=o(u=+u),n=o(l=+l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f):[s,u,l]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(c=t,f):c},f.unknown=function(t){return arguments.length?(a=t,f):a},function(a){return o=a,t=a(s),e=a(u),n=a(l),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),f}}function oo(){var t=Ye(io()(ye));return t.copy=function(){return Xi(t,oo())},_.apply(t,arguments)}function ao(){var t=sn(io()).domain([.1,1,10]);return t.copy=function(){return Xi(t,ao()).base(t.base())},_.apply(t,arguments)}function so(){var t=hn(io());return t.copy=function(){return Xi(t,so()).constant(t.constant())},_.apply(t,arguments)}function uo(){var t=gn(io());return t.copy=function(){return Xi(t,uo()).exponent(t.exponent())},_.apply(t,arguments)}function lo(){return uo.apply(null,arguments).exponent(.5)}n.d(e,"scaleBand",function(){return M}),n.d(e,"scalePoint",function(){return L}),n.d(e,"scaleIdentity",function(){return Ve}),n.d(e,"scaleLinear",function(){return He}),n.d(e,"scaleLog",function(){return un}),n.d(e,"scaleSymlog",function(){return fn}),n.d(e,"scaleOrdinal",function(){return x}),n.d(e,"scaleImplicit",function(){return w}),n.d(e,"scalePow",function(){return yn}),n.d(e,"scaleSqrt",function(){return vn}),n.d(e,"scaleQuantile",function(){return bn}),n.d(e,"scaleQuantize",function(){return _n}),n.d(e,"scaleThreshold",function(){return wn}),n.d(e,"scaleTime",function(){return Yi}),n.d(e,"scaleUtc",function(){return Hi}),n.d(e,"scaleSequential",function(){return Qi}),n.d(e,"scaleSequentialLog",function(){return Ki}),n.d(e,"scaleSequentialPow",function(){return eo}),n.d(e,"scaleSequentialSqrt",function(){return no}),n.d(e,"scaleSequentialSymlog",function(){return to}),n.d(e,"scaleSequentialQuantile",function(){return ro}),n.d(e,"scaleDiverging",function(){return oo}),n.d(e,"scaleDivergingLog",function(){return ao}),n.d(e,"scaleDivergingPow",function(){return uo}),n.d(e,"scaleDivergingSqrt",function(){return lo}),n.d(e,"scaleDivergingSymlog",function(){return so}),n.d(e,"tickFormat",function(){return We})},eb8d:function(t,e,n){}}]);
//# sourceMappingURL=map.813b8617.js.map